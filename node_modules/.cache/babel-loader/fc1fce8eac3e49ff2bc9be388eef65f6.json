{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\owp\\\\src\\\\@fuse\\\\components\\\\FuseShortcuts\\\\FuseShortcuts.js\";\nimport { Divider, Icon, IconButton, Input, ListItemIcon, ListItemText, Menu, MenuItem, Tooltip, Typography, withStyles } from '@material-ui/core';\nimport amber from '@material-ui/core/colors/amber';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { FuseAnimateGroup, FuseUtils } from 'owp/@fuse';\nimport * as UserActions from 'owp/auth/store/actions';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nvar propTypes = {\n  shortcuts: PropTypes.array\n};\nvar defaultProps = {\n  shortcuts: []\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {},\n    item: {\n      textDecoration: 'none!important'\n    },\n    addIcon: {\n      color: amber[600]\n    }\n  };\n};\n\nvar FuseShortcuts = /*#__PURE__*/function (_Component) {\n  _inherits(FuseShortcuts, _Component);\n\n  var _super = _createSuper(FuseShortcuts);\n\n  function FuseShortcuts() {\n    var _this;\n\n    _classCallCheck(this, FuseShortcuts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      addMenu: null,\n      searchText: '',\n      searchResults: null,\n      flatNavigation: null\n    };\n\n    _this.addMenuClick = function (event) {\n      _this.setState({\n        addMenu: event.currentTarget\n      });\n    };\n\n    _this.addMenuClose = function () {\n      _this.setState({\n        addMenu: null\n      });\n    };\n\n    _this.search = function (ev) {\n      var searchText = ev.target.value;\n\n      _this.setState({\n        searchText: searchText\n      });\n\n      if (searchText.length !== 0 && _this.state.flatNavigation) {\n        _this.setState({\n          searchResults: _this.state.flatNavigation.filter(function (item) {\n            return item.title.toLowerCase().includes(searchText);\n          })\n        });\n\n        return;\n      }\n\n      _this.setState({\n        searchResults: null\n      });\n    };\n\n    _this.toggleInShortcuts = function (id) {\n      var shortcuts = _toConsumableArray(_this.props.shortcuts);\n\n      shortcuts = shortcuts.includes(id) ? shortcuts.filter(function (_id) {\n        return id !== _id;\n      }) : [].concat(_toConsumableArray(shortcuts), [id]);\n\n      _this.props.updateUserShortcuts(shortcuts);\n    };\n\n    return _this;\n  }\n\n  _createClass(FuseShortcuts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.flattenNavigation(this.props.navigation);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.location, prevProps.location)) {\n        this.flattenNavigation(this.props.navigation);\n      }\n    }\n  }, {\n    key: \"flattenNavigation\",\n    value: function flattenNavigation(navigation) {\n      this.setState({\n        flatNavigation: FuseUtils.getFlatNavigation(navigation)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          shortcuts = _this$props.shortcuts;\n      var _this$state = this.state,\n          addMenu = _this$state.addMenu,\n          searchText = _this$state.searchText,\n          searchResults = _this$state.searchResults,\n          flatNavigation = _this$state.flatNavigation;\n      var shortcutItems = flatNavigation && shortcuts ? shortcuts.map(function (id) {\n        return flatNavigation.find(function (nav) {\n          return nav.id === id;\n        });\n      }) : [];\n\n      function ShortcutMenuItem(_ref) {\n        var item = _ref.item,\n            onToggle = _ref.onToggle;\n        return /*#__PURE__*/React.createElement(Link, {\n          to: item.url,\n          className: classes.item,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(MenuItem, {\n          key: item.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(ListItemIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }\n        }, item.icon ? /*#__PURE__*/React.createElement(Icon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 33\n          }\n        }, item.icon) : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"text-20 font-bold uppercase text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 33\n          }\n        }, item.title[0])), /*#__PURE__*/React.createElement(ListItemText, {\n          className: \"pl-0\",\n          primary: item.title,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(IconButton, {\n          onClick: function onClick(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            onToggle(item.id);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          color: \"action\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }\n        }, shortcuts && shortcuts.includes(item.id) ? 'star' : 'star_border'))));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(classes.root, 'flex flex-1'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FuseAnimateGroup, {\n        enter: {\n          animation: 'transition.expandIn'\n        },\n        className: \"hidden md:flex md-flex-1 justify-center items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Click to add/remove shortcut\",\n        placement: \"bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        className: \"w-64 h-64 p-0\",\n        \"aria-owns\": addMenu ? 'add-menu' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.addMenuClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: classes.addIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      }, \"star\")))), /*#__PURE__*/React.createElement(Menu, {\n        id: \"add-menu\",\n        anchorEl: addMenu,\n        open: Boolean(addMenu),\n        onClose: this.addMenuClose,\n        classes: {\n          paper: 'mt-48'\n        },\n        onEntered: function onEntered() {\n          _this2.searchInput.focus();\n        },\n        onExited: function onExited() {\n          _this2.setState({\n            searchText: ''\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-16 pt-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        inputRef: function inputRef(ref) {\n          return _this2.searchInput = ref;\n        },\n        value: searchText,\n        onChange: this.search,\n        placeholder: \"Search for an app or page\",\n        className: \"\",\n        fullWidth: true,\n        inputProps: {\n          'aria-label': 'Search'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }), searchText.length !== 0 && searchResults && searchResults.map(function (item) {\n        return /*#__PURE__*/React.createElement(ShortcutMenuItem, {\n          key: item.id,\n          item: item,\n          onToggle: function onToggle() {\n            return _this2.toggleInShortcuts(item.id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }\n        });\n      }), searchText.length !== 0 && searchResults.length === 0 && /*#__PURE__*/React.createElement(Typography, {\n        color: \"textSecondary\",\n        className: \"p-16 pb-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }\n      }, \"No results..\"), searchText.length === 0 && shortcutItems.map(function (item) {\n        return item && /*#__PURE__*/React.createElement(ShortcutMenuItem, {\n          key: item.id,\n          item: item,\n          onToggle: function onToggle() {\n            return _this2.toggleInShortcuts(item.id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 37\n          }\n        });\n      })));\n    }\n  }]);\n\n  return FuseShortcuts;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    updateUserShortcuts: UserActions.updateUserShortcuts\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref2) {\n  var fuse = _ref2.fuse,\n      auth = _ref2.auth;\n  return {\n    navigation: fuse.navigation,\n    shortcuts: auth.user.shortcuts\n  };\n}\n\nFuseShortcuts.propTypes = propTypes;\nFuseShortcuts.defaultProps = defaultProps;\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(FuseShortcuts));","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/@fuse/components/FuseShortcuts/FuseShortcuts.js"],"names":["Divider","Icon","IconButton","Input","ListItemIcon","ListItemText","Menu","MenuItem","Tooltip","Typography","withStyles","amber","classNames","_","FuseAnimateGroup","FuseUtils","UserActions","PropTypes","React","Component","connect","Link","bindActionCreators","propTypes","shortcuts","array","defaultProps","styles","theme","root","item","textDecoration","addIcon","color","FuseShortcuts","state","addMenu","searchText","searchResults","flatNavigation","addMenuClick","event","setState","currentTarget","addMenuClose","search","ev","target","value","length","filter","title","toLowerCase","includes","toggleInShortcuts","id","props","_id","updateUserShortcuts","flattenNavigation","navigation","prevProps","prevState","isEqual","location","getFlatNavigation","classes","shortcutItems","map","find","nav","ShortcutMenuItem","onToggle","url","icon","preventDefault","stopPropagation","animation","Boolean","paper","searchInput","focus","ref","mapDispatchToProps","dispatch","mapStateToProps","fuse","auth","user"],"mappings":"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","sourcesContent":["import {\r\n    Divider,\r\n    Icon,\r\n    IconButton,\r\n    Input,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core';\r\nimport amber from '@material-ui/core/colors/amber';\r\nimport classNames from 'classnames';\r\nimport _ from 'lodash';\r\nimport { FuseAnimateGroup, FuseUtils } from 'owp/@fuse';\r\nimport * as UserActions from 'owp/auth/store/actions';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nconst propTypes = {\r\n    shortcuts: PropTypes.array,\r\n};\r\n\r\nconst defaultProps = {\r\n    shortcuts: [],\r\n};\r\n\r\nconst styles = (theme) => ({\r\n    root: {},\r\n    item: {\r\n        textDecoration: 'none!important',\r\n    },\r\n    addIcon: {\r\n        color: amber[600],\r\n    },\r\n});\r\n\r\nclass FuseShortcuts extends Component {\r\n    state = {\r\n        addMenu: null,\r\n        searchText: '',\r\n        searchResults: null,\r\n        flatNavigation: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.flattenNavigation(this.props.navigation);\r\n    }\r\n\r\n    addMenuClick = (event) => {\r\n        this.setState({ addMenu: event.currentTarget });\r\n    };\r\n\r\n    addMenuClose = () => {\r\n        this.setState({ addMenu: null });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (!_.isEqual(this.props.location, prevProps.location)) {\r\n            this.flattenNavigation(this.props.navigation);\r\n        }\r\n    }\r\n\r\n    flattenNavigation(navigation) {\r\n        this.setState({ flatNavigation: FuseUtils.getFlatNavigation(navigation) });\r\n    }\r\n\r\n    search = (ev) => {\r\n        const searchText = ev.target.value;\r\n        this.setState({ searchText });\r\n        if (searchText.length !== 0 && this.state.flatNavigation) {\r\n            this.setState({\r\n                searchResults: this.state.flatNavigation.filter((item) =>\r\n                    item.title.toLowerCase().includes(searchText)\r\n                ),\r\n            });\r\n            return;\r\n        }\r\n        this.setState({ searchResults: null });\r\n    };\r\n\r\n    toggleInShortcuts = (id) => {\r\n        let shortcuts = [...this.props.shortcuts];\r\n        shortcuts = shortcuts.includes(id)\r\n            ? shortcuts.filter((_id) => id !== _id)\r\n            : [...shortcuts, id];\r\n        this.props.updateUserShortcuts(shortcuts);\r\n    };\r\n\r\n    render() {\r\n        const { classes, shortcuts } = this.props;\r\n        const { addMenu, searchText, searchResults, flatNavigation } = this.state;\r\n        const shortcutItems =\r\n            flatNavigation && shortcuts\r\n                ? shortcuts.map((id) => {\r\n                      return flatNavigation.find((nav) => nav.id === id);\r\n                  })\r\n                : [];\r\n\r\n        function ShortcutMenuItem({ item, onToggle }) {\r\n            return (\r\n                <Link to={item.url} className={classes.item}>\r\n                    <MenuItem key={item.id}>\r\n                        <ListItemIcon>\r\n                            {item.icon ? (\r\n                                <Icon>{item.icon}</Icon>\r\n                            ) : (\r\n                                <span className=\"text-20 font-bold uppercase text-center\">\r\n                                    {item.title[0]}\r\n                                </span>\r\n                            )}\r\n                        </ListItemIcon>\r\n                        <ListItemText className=\"pl-0\" primary={item.title} />\r\n                        <IconButton\r\n                            onClick={(ev) => {\r\n                                ev.preventDefault();\r\n                                ev.stopPropagation();\r\n                                onToggle(item.id);\r\n                            }}\r\n                        >\r\n                            <Icon color=\"action\">\r\n                                {shortcuts && shortcuts.includes(item.id) ? 'star' : 'star_border'}\r\n                            </Icon>\r\n                        </IconButton>\r\n                    </MenuItem>\r\n                </Link>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={classNames(classes.root, 'flex flex-1')}>\r\n                <FuseAnimateGroup\r\n                    enter={{\r\n                        animation: 'transition.expandIn',\r\n                    }}\r\n                    className=\"hidden md:flex md-flex-1 justify-center items-center\"\r\n                >\r\n                    {/* {shortcutItems.map(item => item && (\r\n                        <Link to={item.url} key={item.id} className={classes.item}>\r\n                            <Tooltip title={item.title} placement=\"bottom\">\r\n                                <IconButton className=\"w-40 h-40 p-0\">\r\n                                    {item.icon ?\r\n                                        (\r\n                                            <Icon>{item.icon}</Icon>\r\n                                        ) :\r\n                                        (\r\n                                            <span className=\"text-20 font-bold uppercase\">{item.title[0]}</span>\r\n                                        )\r\n                                    }\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </Link>\r\n                    ))} */}\r\n\r\n                    <Tooltip title=\"Click to add/remove shortcut\" placement=\"bottom\">\r\n                        <IconButton\r\n                            className=\"w-64 h-64 p-0\"\r\n                            aria-owns={addMenu ? 'add-menu' : null}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={this.addMenuClick}\r\n                        >\r\n                            <Icon className={classes.addIcon}>star</Icon>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </FuseAnimateGroup>\r\n\r\n                <Menu\r\n                    id=\"add-menu\"\r\n                    anchorEl={addMenu}\r\n                    open={Boolean(addMenu)}\r\n                    onClose={this.addMenuClose}\r\n                    classes={{\r\n                        paper: 'mt-48',\r\n                    }}\r\n                    onEntered={() => {\r\n                        this.searchInput.focus();\r\n                    }}\r\n                    onExited={() => {\r\n                        this.setState({ searchText: '' });\r\n                    }}\r\n                >\r\n                    <div className=\"p-16 pt-8\">\r\n                        <Input\r\n                            inputRef={(ref) => (this.searchInput = ref)}\r\n                            value={searchText}\r\n                            onChange={this.search}\r\n                            placeholder=\"Search for an app or page\"\r\n                            className=\"\"\r\n                            fullWidth\r\n                            inputProps={{\r\n                                'aria-label': 'Search',\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <Divider />\r\n\r\n                    {searchText.length !== 0 &&\r\n                        searchResults &&\r\n                        searchResults.map((item) => (\r\n                            <ShortcutMenuItem\r\n                                key={item.id}\r\n                                item={item}\r\n                                onToggle={() => this.toggleInShortcuts(item.id)}\r\n                            />\r\n                        ))}\r\n\r\n                    {searchText.length !== 0 && searchResults.length === 0 && (\r\n                        <Typography color=\"textSecondary\" className=\"p-16 pb-8\">\r\n                            No results..\r\n                        </Typography>\r\n                    )}\r\n\r\n                    {searchText.length === 0 &&\r\n                        shortcutItems.map(\r\n                            (item) =>\r\n                                item && (\r\n                                    <ShortcutMenuItem\r\n                                        key={item.id}\r\n                                        item={item}\r\n                                        onToggle={() => this.toggleInShortcuts(item.id)}\r\n                                    />\r\n                                )\r\n                        )}\r\n                </Menu>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(\r\n        {\r\n            updateUserShortcuts: UserActions.updateUserShortcuts,\r\n        },\r\n        dispatch\r\n    );\r\n}\r\n\r\nfunction mapStateToProps({ fuse, auth }) {\r\n    return {\r\n        navigation: fuse.navigation,\r\n        shortcuts: auth.user.shortcuts,\r\n    };\r\n}\r\n\r\nFuseShortcuts.propTypes = propTypes;\r\nFuseShortcuts.defaultProps = defaultProps;\r\n\r\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(FuseShortcuts));\r\n"]},"metadata":{},"sourceType":"module"}