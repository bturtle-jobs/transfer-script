{"ast":null,"code":"import _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\owp\\\\src\\\\@fuse\\\\components\\\\FuseNavigation\\\\horizontal\\\\FuseNavHorizontalCollapse.js\";\nimport { Icon, IconButton, ListItem, ListItemText } from '@material-ui/core';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles/index';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport FuseNavBadge from './../FuseNavBadge';\nimport FuseNavHorizontalGroup from './FuseNavHorizontalGroup';\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\nvar propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    icon: PropTypes.string,\n    children: PropTypes.array\n  })\n};\nvar defaultProps = {};\n\nvar styles = function styles(theme) {\n  return {\n    root: {},\n    button: {\n      minHeight: 48,\n      '&.open': {\n        backgroundColor: 'rgba(0,0,0,.08)'\n      }\n    },\n    popper: {\n      zIndex: 999\n    },\n    popperClose: {\n      pointerEvents: 'none'\n    }\n  };\n};\n\nvar FuseNavHorizontalCollapse = /*#__PURE__*/function (_Component) {\n  _inherits(FuseNavHorizontalCollapse, _Component);\n\n  var _super = _createSuper(FuseNavHorizontalCollapse);\n\n  function FuseNavHorizontalCollapse() {\n    var _this;\n\n    _classCallCheck(this, FuseNavHorizontalCollapse);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      open: false\n    };\n    _this.handleToggle = _.debounce(function (open) {\n      if (_this.state.open === open) {\n        return;\n      }\n\n      _this.setState({\n        open: open\n      });\n    }, 150);\n    return _this;\n  }\n\n  _createClass(FuseNavHorizontalCollapse, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          item = _this$props.item,\n          nestedLevel = _this$props.nestedLevel,\n          classes = _this$props.classes,\n          userRole = _this$props.userRole;\n      var open = this.state.open;\n\n      if (item.auth && (!item.auth.includes(userRole) || userRole !== 'guest' && item.auth.length === 1 && item.auth.includes('guest'))) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: classNames(classes.root, 'relative pl-0'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Manager, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Reference, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, function (_ref) {\n        var ref = _ref.ref;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: ref,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(ListItem, {\n          button: true,\n          onClick: _this2.handleClick,\n          className: classNames(classes.button, _this2.state.open && 'open'),\n          onMouseEnter: function onMouseEnter() {\n            return _this2.handleToggle(true);\n          },\n          onMouseLeave: function onMouseLeave() {\n            return _this2.handleToggle(false);\n          },\n          \"aria-owns\": open ? 'menu-list-grow' : null,\n          \"aria-haspopup\": \"true\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }\n        }, item.icon && /*#__PURE__*/React.createElement(Icon, {\n          color: \"action\",\n          className: \"text-16 flex-no-shrink\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 41\n          }\n        }, item.icon), /*#__PURE__*/React.createElement(ListItemText, {\n          className: \"list-item-text pr-0\",\n          primary: item.title,\n          classes: {\n            primary: 'text-14'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }\n        }), item.badge && /*#__PURE__*/React.createElement(FuseNavBadge, {\n          className: \"ml-8 mr-4\",\n          badge: item.badge,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(IconButton, {\n          disableRipple: true,\n          className: \"w-16 h-16 ml-4 p-0\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"text-16 arrow-icon\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 41\n          }\n        }, \"keyboard_arrow_right\"))));\n      }), ReactDOM.createPortal( /*#__PURE__*/React.createElement(Popper, {\n        placement: \"right\",\n        eventsEnabled: open,\n        positionFixed: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }, function (_ref2) {\n        var ref = _ref2.ref,\n            style = _ref2.style,\n            placement = _ref2.placement,\n            arrowProps = _ref2.arrowProps;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: ref,\n          style: style,\n          \"data-placement\": placement,\n          className: classNames(classes.popper, {\n            [classes.popperClose]: !open\n          }),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Grow, {\n          in: open,\n          id: \"menu-list-grow\",\n          style: {\n            transformOrigin: '0 0 0'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Paper, {\n          onMouseEnter: function onMouseEnter() {\n            return _this2.handleToggle(true);\n          },\n          onMouseLeave: function onMouseLeave() {\n            return _this2.handleToggle(false);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 41\n          }\n        }, item.children && /*#__PURE__*/React.createElement(\"ul\", {\n          className: classNames(classes.children, 'pl-0'),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 49\n          }\n        }, item.children.map(function (item, index) {\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            key: \"\".concat(item.id, \"-\").concat(index),\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 57\n            }\n          }, item.type === 'group' && /*#__PURE__*/React.createElement(FuseNavHorizontalGroup, {\n            item: item,\n            nestedLevel: nestedLevel + 1,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 65\n            }\n          }), item.type === 'collapse' && /*#__PURE__*/React.createElement(NavHorizontalCollapse, {\n            item: item,\n            nestedLevel: nestedLevel + 1,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 65\n            }\n          }), item.type === 'item' && /*#__PURE__*/React.createElement(FuseNavHorizontalItem, {\n            item: item,\n            nestedLevel: nestedLevel + 1,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 65\n            }\n          }));\n        })))));\n      }), document.querySelector('#root'))));\n    }\n  }]);\n\n  return FuseNavHorizontalCollapse;\n}(Component);\n\nfunction mapStateToProps(_ref3) {\n  var auth = _ref3.auth;\n  return {\n    userRole: auth.user.role\n  };\n}\n\nFuseNavHorizontalCollapse.propTypes = propTypes;\nFuseNavHorizontalCollapse.defaultProps = defaultProps;\nvar NavHorizontalCollapse = withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps)(FuseNavHorizontalCollapse)));\nexport default NavHorizontalCollapse;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/@fuse/components/FuseNavigation/horizontal/FuseNavHorizontalCollapse.js"],"names":["Icon","IconButton","ListItem","ListItemText","Grow","Paper","withStyles","classNames","_","PropTypes","React","Component","ReactDOM","Manager","Popper","Reference","connect","withRouter","FuseNavBadge","FuseNavHorizontalGroup","FuseNavHorizontalItem","propTypes","item","shape","id","string","isRequired","title","icon","children","array","defaultProps","styles","theme","root","button","minHeight","backgroundColor","popper","zIndex","popperClose","pointerEvents","FuseNavHorizontalCollapse","state","open","handleToggle","debounce","setState","props","nestedLevel","classes","userRole","auth","includes","length","ref","handleClick","primary","badge","createPortal","style","placement","arrowProps","transformOrigin","map","index","type","document","querySelector","mapStateToProps","user","role","NavHorizontalCollapse","withTheme"],"mappings":"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","sourcesContent":["import { Icon, IconButton, ListItem, ListItemText } from '@material-ui/core';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles/index';\r\nimport classNames from 'classnames';\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { Manager, Popper, Reference } from 'react-popper';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport FuseNavBadge from './../FuseNavBadge';\r\nimport FuseNavHorizontalGroup from './FuseNavHorizontalGroup';\r\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\r\n\r\nconst propTypes = {\r\n    item: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        title: PropTypes.string,\r\n        icon: PropTypes.string,\r\n        children: PropTypes.array,\r\n    }),\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nconst styles = (theme) => ({\r\n    root: {},\r\n    button: {\r\n        minHeight: 48,\r\n        '&.open': {\r\n            backgroundColor: 'rgba(0,0,0,.08)',\r\n        },\r\n    },\r\n    popper: {\r\n        zIndex: 999,\r\n    },\r\n    popperClose: {\r\n        pointerEvents: 'none',\r\n    },\r\n});\r\n\r\nclass FuseNavHorizontalCollapse extends Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleToggle = _.debounce((open) => {\r\n        if (this.state.open === open) {\r\n            return;\r\n        }\r\n        this.setState({ open });\r\n    }, 150);\r\n\r\n    render() {\r\n        const { item, nestedLevel, classes, userRole } = this.props;\r\n        const { open } = this.state;\r\n\r\n        if (\r\n            item.auth &&\r\n            (!item.auth.includes(userRole) ||\r\n                (userRole !== 'guest' && item.auth.length === 1 && item.auth.includes('guest')))\r\n        ) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <ul className={classNames(classes.root, 'relative pl-0')}>\r\n                <Manager>\r\n                    <Reference>\r\n                        {({ ref }) => (\r\n                            <div ref={ref}>\r\n                                <ListItem\r\n                                    button\r\n                                    onClick={this.handleClick}\r\n                                    className={classNames(\r\n                                        classes.button,\r\n                                        this.state.open && 'open'\r\n                                    )}\r\n                                    onMouseEnter={() => this.handleToggle(true)}\r\n                                    onMouseLeave={() => this.handleToggle(false)}\r\n                                    aria-owns={open ? 'menu-list-grow' : null}\r\n                                    aria-haspopup=\"true\"\r\n                                >\r\n                                    {item.icon && (\r\n                                        <Icon color=\"action\" className=\"text-16 flex-no-shrink\">\r\n                                            {item.icon}\r\n                                        </Icon>\r\n                                    )}\r\n                                    <ListItemText\r\n                                        className=\"list-item-text pr-0\"\r\n                                        primary={item.title}\r\n                                        classes={{ primary: 'text-14' }}\r\n                                    />\r\n                                    {item.badge && (\r\n                                        <FuseNavBadge className=\"ml-8 mr-4\" badge={item.badge} />\r\n                                    )}\r\n                                    <IconButton disableRipple className=\"w-16 h-16 ml-4 p-0\">\r\n                                        <Icon className=\"text-16 arrow-icon\">\r\n                                            keyboard_arrow_right\r\n                                        </Icon>\r\n                                    </IconButton>\r\n                                </ListItem>\r\n                            </div>\r\n                        )}\r\n                    </Reference>\r\n                    {ReactDOM.createPortal(\r\n                        <Popper placement=\"right\" eventsEnabled={open} positionFixed>\r\n                            {({ ref, style, placement, arrowProps }) => (\r\n                                <div\r\n                                    ref={ref}\r\n                                    style={style}\r\n                                    data-placement={placement}\r\n                                    className={classNames(classes.popper, {\r\n                                        [classes.popperClose]: !open,\r\n                                    })}\r\n                                >\r\n                                    <Grow\r\n                                        in={open}\r\n                                        id=\"menu-list-grow\"\r\n                                        style={{ transformOrigin: '0 0 0' }}\r\n                                    >\r\n                                        <Paper\r\n                                            onMouseEnter={() => this.handleToggle(true)}\r\n                                            onMouseLeave={() => this.handleToggle(false)}\r\n                                        >\r\n                                            {item.children && (\r\n                                                <ul\r\n                                                    className={classNames(classes.children, 'pl-0')}\r\n                                                >\r\n                                                    {item.children.map((item, index) => (\r\n                                                        <React.Fragment key={`${item.id}-${index}`}>\r\n                                                            {item.type === 'group' && (\r\n                                                                <FuseNavHorizontalGroup\r\n                                                                    item={item}\r\n                                                                    nestedLevel={nestedLevel + 1}\r\n                                                                />\r\n                                                            )}\r\n\r\n                                                            {item.type === 'collapse' && (\r\n                                                                <NavHorizontalCollapse\r\n                                                                    item={item}\r\n                                                                    nestedLevel={nestedLevel + 1}\r\n                                                                />\r\n                                                            )}\r\n\r\n                                                            {item.type === 'item' && (\r\n                                                                <FuseNavHorizontalItem\r\n                                                                    item={item}\r\n                                                                    nestedLevel={nestedLevel + 1}\r\n                                                                />\r\n                                                            )}\r\n                                                        </React.Fragment>\r\n                                                    ))}\r\n                                                </ul>\r\n                                            )}\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                </div>\r\n                            )}\r\n                        </Popper>,\r\n                        document.querySelector('#root')\r\n                    )}\r\n                </Manager>\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ auth }) {\r\n    return {\r\n        userRole: auth.user.role,\r\n    };\r\n}\r\n\r\nFuseNavHorizontalCollapse.propTypes = propTypes;\r\nFuseNavHorizontalCollapse.defaultProps = defaultProps;\r\n\r\nconst NavHorizontalCollapse = withStyles(styles, { withTheme: true })(\r\n    withRouter(connect(mapStateToProps)(FuseNavHorizontalCollapse))\r\n);\r\n\r\nexport default NavHorizontalCollapse;\r\n"]},"metadata":{},"sourceType":"module"}