{"ast":null,"code":"import _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\src\\\\main\\\\content\\\\pages\\\\C801000\\\\C801000.js\";\nimport React, { Component } from 'react';\nimport * as TGEvent from 'owp/TGEvent';\nimport { OwpPageCarded, OwpTreeGrid, OwpSearchHeader, OwpSearchSelectField, OwpSearchTextField, OwpMessage } from 'owp/wrapper';\nimport Icon from '@material-ui/core/Icon';\nimport Dialog_C801001 from 'main/content/include/Dialog_C801001';\nimport Dialog_C801002 from 'main/content/include/Dialog_C801002';\nimport Dialog_C801003 from 'main/content/include/Dialog_C801003';\nimport { saveGridSelect } from '../../../GridUtill';\nimport translationHelper from 'main/content/utils/translationHelper';\n\nvar Page = /*#__PURE__*/function (_Component) {\n  _inherits(Page, _Component);\n\n  var _super = _createSuper(Page);\n\n  function Page(props) {\n    var _this;\n\n    _classCallCheck(this, Page);\n\n    _this = _super.call(this, props);\n\n    _this.deptClearProps = function () {\n      _this.setState({\n        CodeID: '',\n        CodeNM: ''\n      });\n    };\n\n    _this.userClearProps = function () {\n      _this.setState({\n        UserSEQ: ''\n      });\n    };\n\n    _this.onBeforeFilterSubmit = function (filterValues) {\n      if (_this.state.CodeID === null || _this.state.CodeID === undefined || _this.state.CodeID === '') {\n        OwpMessage({\n          message: translationHelper('C801000.message.select_department_first'),\n          variant: 'warning'\n        });\n        return false;\n      } else {\n        filterValues['IPX_USER.DEPTID'] = _this.state.CodeID;\n        return true;\n      }\n    };\n\n    _this.fetchlistIPX_CommonCodeDeptACData = function () {\n      var interval = window.setInterval(function () {\n        var G = TGEvent.getGridByID('C801001');\n\n        if (!!G) {\n          if (G.Loading === 0) {\n            window.clearInterval(interval);\n            G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIPX_CommonCodeDeptAC?jsondata={\"VER\":\"2\"}');\n            G.ReloadBody();\n            G.ClearSelection();\n          }\n        }\n      }, 100);\n    };\n\n    _this.fetchlistIpxUserData = function (condition) {\n      var G = TGEvent.getGridByID('C801002');\n      G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIpxUser?jsondata={\"IPX_USER.DEPTID\":\"' + condition + '\",\"VER\":\"2\"}');\n      G.ReloadBody();\n      G.ClearSelection();\n    };\n\n    _this.state = {\n      CodeID: ''\n    };\n    return _this;\n  }\n\n  _createClass(Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchlistIPX_CommonCodeDeptACData();\n      TGEvent.OWPTGSelect('C801001', function (is, row) {\n        if (is) {\n          saveGridSelect('C801001', 'IPX_COMMONCODE.CODEID');\n\n          _this2.setState({\n            CodeID: row['IPX_COMMONCODE.CODEID'],\n            CodeNM: row['IPX_COMMONCODE.CODENM']\n          });\n\n          _this2.fetchlistIpxUserData(_this2.state.CodeID);\n        } else {\n          _this2.setState({\n            CodeID: null,\n            CodeNM: null\n          });\n\n          _this2.fetchlistIpxUserData('XXXXXXX');\n        }\n      });\n      TGEvent.OWPTGSelect('C801002', function (is, row) {\n        if (is) {\n          _this2.setState({\n            UserSEQ: row['IPX_USER.USERSEQ']\n          });\n        } else {\n          _this2.setState({\n            UserSEQ: null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      TGEvent.OWPTGDelEvent();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(OwpPageCarded, {\n        header: /*#__PURE__*/React.createElement(OwpSearchHeader, {\n          url: \"listIpxUser\",\n          gridId: \"C801002\",\n          onBeforeSubmit: this.onBeforeFilterSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(OwpSearchTextField, {\n          className: \"w-160\",\n          id: 'IPX_USER.USERID',\n          label: \"\\uC0AC\\uC6A9\\uC790 ID\",\n          name: \"IPX_USER.USERID\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(OwpSearchTextField, {\n          className: \"w-160\",\n          id: 'IPX_USER.USERNAME',\n          label: \"\\uC131\\uBA85\",\n          name: \"IPX_USER.USERNAME\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(OwpSearchSelectField, {\n          className: \"w-160\",\n          id: 'IPX_USER.RANKID',\n          name: 'IPX_USER.RANKID',\n          label: \"\\uC9C1\\uAE09\",\n          groupId: 'D001000',\n          useAll: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(OwpSearchSelectField, {\n          className: \"w-160\",\n          id: 'IPX_USER.PERMISSIONID',\n          name: 'IPX_USER.PERMISSIONID',\n          label: \"\\uAD8C\\uD55C\",\n          groupId: 'D002000',\n          useAll: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(OwpSearchSelectField, {\n          className: \"w-160\",\n          id: 'IPX_USER.FLAG',\n          name: 'IPX_USER.FLAG',\n          label: \"\\uC0AC\\uC6A9\\uC5EC\\uBD80\",\n          options: [{\n            label: '사용',\n            value: 'Y'\n          }, {\n            label: '미사용',\n            value: 'N'\n          }],\n          defaultValue: 'Y',\n          useAll: false,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }\n        })),\n        content: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pt-16\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet light bordered\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"caption\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"ico_m01 c04\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 53\n          }\n        }, \"insert_chart\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-dark bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 53\n          }\n        }, \"\\uBD80\\uC11C \\uBAA9\\uB85D\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"caption-helper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 53\n          }\n        }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex justify-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 49\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(OwpTreeGrid, {\n          id: 'C801001',\n          height: \"76vh\",\n          LayoutUrl: \"assets/data/C801001Def.xml\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 49\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-8\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet light bordered\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"caption\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"ico_m01 c04\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 53\n          }\n        }, \"insert_chart\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-dark bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 53\n          }\n        }, \"\\uC0AC\\uC6A9\\uC790 \\uBAA9\\uB85D\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"caption-helper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 53\n          }\n        }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex justify-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(Dialog_C801001, {\n          CodeID: this.state.CodeID,\n          CodeNM: this.state.CodeNM,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 53\n          }\n        }), /*#__PURE__*/React.createElement(Dialog_C801002, {\n          UserSEQ: this.state.UserSEQ,\n          CodeID: this.state.CodeID,\n          CodeNM: this.state.CodeNM,\n          userClearProps: this.userClearProps,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 53\n          }\n        }), /*#__PURE__*/React.createElement(Dialog_C801003, {\n          UserSEQ: this.state.UserSEQ,\n          userClearProps: this.userClearProps,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 53\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(OwpTreeGrid, {\n          id: 'C801002',\n          height: \"76vh\",\n          LayoutUrl: \"assets/data/C801002Def.xml\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 49\n          }\n        }))))))),\n        innerScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Page;\n}(Component);\n\nexport default Page;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/src/main/content/pages/C801000/C801000.js"],"names":["React","Component","TGEvent","OwpPageCarded","OwpTreeGrid","OwpSearchHeader","OwpSearchSelectField","OwpSearchTextField","OwpMessage","Icon","Dialog_C801001","Dialog_C801002","Dialog_C801003","saveGridSelect","translationHelper","Page","props","deptClearProps","setState","CodeID","CodeNM","userClearProps","UserSEQ","onBeforeFilterSubmit","filterValues","state","undefined","message","variant","fetchlistIPX_CommonCodeDeptACData","interval","window","setInterval","G","getGridByID","Loading","clearInterval","Data","Url","process","env","REACT_APP_REST_API_URL","encodeURI","ReloadBody","ClearSelection","fetchlistIpxUserData","condition","OWPTGSelect","is","row","OWPTGDelEvent","label","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as TGEvent from 'owp/TGEvent';\r\nimport {\r\n    OwpPageCarded,\r\n    OwpTreeGrid,\r\n    OwpSearchHeader,\r\n    OwpSearchSelectField,\r\n    OwpSearchTextField,\r\n    OwpMessage\r\n} from 'owp/wrapper';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Dialog_C801001 from 'main/content/include/Dialog_C801001';\r\nimport Dialog_C801002 from 'main/content/include/Dialog_C801002';\r\nimport Dialog_C801003 from 'main/content/include/Dialog_C801003';\r\nimport { saveGridSelect } from '../../../GridUtill';\r\nimport translationHelper from 'main/content/utils/translationHelper';\r\n\r\nclass Page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            CodeID: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchlistIPX_CommonCodeDeptACData();\r\n        TGEvent.OWPTGSelect('C801001', (is, row) => {\r\n            if (is) {\r\n                saveGridSelect('C801001', 'IPX_COMMONCODE.CODEID');\r\n                this.setState({\r\n                    CodeID: row['IPX_COMMONCODE.CODEID'],\r\n                    CodeNM: row['IPX_COMMONCODE.CODENM']\r\n                });\r\n                this.fetchlistIpxUserData(this.state.CodeID);\r\n            } else {\r\n                this.setState({\r\n                    CodeID: null,\r\n                    CodeNM: null\r\n                });\r\n                this.fetchlistIpxUserData('XXXXXXX')\r\n            }\r\n        });\r\n\r\n        TGEvent.OWPTGSelect('C801002', (is, row) => {\r\n            if (is) {\r\n                this.setState({\r\n                    UserSEQ: row['IPX_USER.USERSEQ']\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    UserSEQ: null\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    deptClearProps = () => {\r\n        this.setState({\r\n            CodeID: '',\r\n            CodeNM: ''\r\n        });\r\n    };\r\n\r\n    userClearProps = () => {\r\n        this.setState({\r\n            UserSEQ: ''\r\n        });\r\n    };\r\n\r\n    onBeforeFilterSubmit = (filterValues) => {\r\n        if (this.state.CodeID === null || this.state.CodeID === undefined || this.state.CodeID === '') {\r\n            OwpMessage({\r\n                message: translationHelper('C801000.message.select_department_first'),\r\n                variant: 'warning',\r\n            });\r\n            return false;\r\n        } else {\r\n            filterValues['IPX_USER.DEPTID'] = this.state.CodeID;\r\n            return true;\r\n        }\r\n    };\r\n\r\n    fetchlistIPX_CommonCodeDeptACData = () => {\r\n        let interval = window.setInterval(() => {\r\n            let G = TGEvent.getGridByID('C801001');\r\n            if (!!G) {\r\n                if (G.Loading === 0) {\r\n                    window.clearInterval(interval);\r\n                    G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIPX_CommonCodeDeptAC?jsondata={\"VER\":\"2\"}');\r\n                    G.ReloadBody();\r\n                    G.ClearSelection();\r\n                }\r\n            }\r\n        }, 100);\r\n    };\r\n\r\n    fetchlistIpxUserData = (condition) => {\r\n        const G = TGEvent.getGridByID('C801002');\r\n        G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIpxUser?jsondata={\"IPX_USER.DEPTID\":\"' + condition + '\",\"VER\":\"2\"}');\r\n        G.ReloadBody();\r\n        G.ClearSelection();\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        TGEvent.OWPTGDelEvent();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <OwpPageCarded\r\n                    header={\r\n                        <OwpSearchHeader\r\n                            url=\"listIpxUser\"\r\n                            gridId=\"C801002\"\r\n                            onBeforeSubmit={this.onBeforeFilterSubmit}\r\n                        >\r\n                            {/* User ID */}\r\n                            <OwpSearchTextField\r\n                                className=\"w-160\"\r\n                                id={'IPX_USER.USERID'}\r\n                                label=\"사용자 ID\"\r\n                                name=\"IPX_USER.USERID\"\r\n                            />\r\n                            {/* Name */}\r\n                            <OwpSearchTextField\r\n                                className=\"w-160\"\r\n                                id={'IPX_USER.USERNAME'}\r\n                                label=\"성명\"\r\n                                name=\"IPX_USER.USERNAME\"\r\n                            />\r\n                            {/* Position */}\r\n                            <OwpSearchSelectField\r\n                                className=\"w-160\"\r\n                                id={'IPX_USER.RANKID'}\r\n                                name={'IPX_USER.RANKID'}\r\n                                label=\"직급\"\r\n                                groupId={'D001000'}\r\n                                useAll\r\n                            />\r\n                            {/* Authority */}\r\n                            <OwpSearchSelectField\r\n                                className=\"w-160\"\r\n                                id={'IPX_USER.PERMISSIONID'}\r\n                                name={'IPX_USER.PERMISSIONID'}\r\n                                label=\"권한\"\r\n                                groupId={'D002000'}\r\n                                useAll\r\n                            />\r\n                            {/* Availability */}\r\n                            <OwpSearchSelectField\r\n                                className=\"w-160\"\r\n                                id={'IPX_USER.FLAG'}\r\n                                name={'IPX_USER.FLAG'}\r\n                                label=\"사용여부\"\r\n                                options={[\r\n                                    { label: '사용', value: 'Y' },\r\n                                    { label: '미사용', value: 'N' },\r\n                                ]}\r\n                                defaultValue={'Y'}\r\n                                useAll={false}\r\n                            />\r\n                        </OwpSearchHeader>\r\n                    }\r\n                    content={\r\n                        <div>\r\n                            <div className=\"pt-16\">\r\n                                <div>\r\n                                    <div className=\"col-lg-4\">\r\n                                        <div className=\"portlet light bordered\">\r\n                                            <div className=\"portlet-title\">\r\n                                                <div className=\"caption\">\r\n                                                    <Icon className=\"ico_m01 c04\">insert_chart</Icon>\r\n                                                    {/* Department List */}\r\n                                                    <span className=\"font-dark bold\">부서 목록</span>\r\n                                                    <span className=\"caption-helper\"> </span>\r\n                                                </div>\r\n                                                <div className=\"flex justify-end\">\r\n                                                    {/* <Dialog_C991001/>\r\n                                                    <Dialog_C991002\r\n                                                        CodeID={this.state.CodeID}\r\n                                                        deptClearProps={this.deptClearProps}\r\n                                                    /> */}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"portlet-body\">\r\n                                                <OwpTreeGrid\r\n                                                    id={'C801001'}\r\n                                                    height=\"76vh\"\r\n                                                LayoutUrl=\"assets/data/C801001Def.xml\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-lg-8\">\r\n                                        <div className=\"portlet light bordered\">\r\n                                            <div className=\"portlet-title\">\r\n                                                <div className=\"caption\">\r\n                                                    <Icon className=\"ico_m01 c04\">insert_chart</Icon>\r\n                                                    {/* User List */}\r\n                                                    <span className=\"font-dark bold\">사용자 목록</span>\r\n                                                    <span className=\"caption-helper\"> </span>\r\n                                                </div>\r\n                                                <div className=\"flex justify-end\">\r\n                                                    <Dialog_C801001\r\n                                                        CodeID={this.state.CodeID}\r\n                                                        CodeNM={this.state.CodeNM}\r\n                                                    />\r\n                                                    <Dialog_C801002\r\n                                                        UserSEQ={this.state.UserSEQ}\r\n                                                        CodeID={this.state.CodeID}\r\n                                                        CodeNM={this.state.CodeNM}\r\n                                                        userClearProps={this.userClearProps}\r\n                                                    />\r\n                                                    <Dialog_C801003\r\n                                                        UserSEQ={this.state.UserSEQ}\r\n                                                        userClearProps={this.userClearProps}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"portlet-body\">\r\n                                                <OwpTreeGrid\r\n                                                    id={'C801002'}\r\n                                                    height=\"76vh\"\r\n                                                    LayoutUrl=\"assets/data/C801002Def.xml\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    innerScroll\r\n                />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}