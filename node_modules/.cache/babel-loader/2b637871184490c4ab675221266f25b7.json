{"ast":null,"code":"import _objectSpread from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\src\\\\main\\\\custom-component\\\\DextEditor.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from \"lodash\";\n\nvar Editor = /*#__PURE__*/function (_Component) {\n  _inherits(Editor, _Component);\n\n  var _super = _createSuper(Editor);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _super.call(this, props);\n\n    _this.initEditor = function () {\n      // 해당 config 이외의 설정도 가능합니다. (www.dext5.com > 개발센터 참조)\n      //DEXT5.config.InitXml = \"dext_editor.xml\";\n      //DEXT5.config.HandlerUrl = \"http://www.dext5.com/handler/upload_handler.ashx\";\n      //DEXT5.config.SkinName = \"blue\";\n      //DEXT5.config.ToSavePathURL = \"dext5data\";\n      //DEXT5.config.NextTabElementId = \"nextInput\";\n      //DEXT5.config.Lang = \"ko-kr\"; // ko-kr, en-us, ja-jp, zh-cn, zh-tw\n      //DEXT5.config.Mode = \"view\";\n      //DEXT5.config.focusInitObjId = \"title\"; // 에디터가 로드된 후 설정한 아이디를 가진 객체에 포커스를 줌.\n      window.DEXT5.config.Width = _this.props.width;\n      window.DEXT5.config.Height = _this.props.height;\n      window.DEXT5.config.RunTimes = 'html5'; // 웹표준모드 : html5, 플러그인모드(IE전용) : ieplugin, version이하 플러그인(IE전용) : versionieplugin\n\n      window.DEXT5.config.StatusBarInitMode = 'design'; // 디자인 : design, HTML : source, 미리보기 : preview, TEXT: text\n\n      window.DEXT5.config.EditorHolder = \"\".concat(_this.props.id, \"-area\"); // 에디터의 팝업창과 우클릭 메뉴를 부모창에 띄우기 위한 설정.\n      // 에디터를 iframe 형태로 띄우는 경우 사이즈가 작아서 팝업창이나 우클릭 메뉴가 가려질 때 설정하면 유용합니다.\n      //DEXT5.config.DialogWindow = parent.window;\n\n      var editor = new window.Dext5editor(_this.props.id);\n      _this.editor = editor;\n\n      if (_this.editor && _this.props.value) {\n        // 기본값 입력\n        _this.setContents(_this.props.value);\n      }\n\n      window.dext_editor_afterchangemode_event = function (newMode, currentMode, editorId) {\n        // console.log(\"dext_editor_afterchangemode_event\", newMode, currentMode, editorId);\n        _this.setState({\n          mode: newMode\n        });\n      };\n    };\n\n    _this.getContents = function () {\n      switch (_this.state.mode) {\n        case \"text\":\n          // text\n          return window.DEXT5.getBodyTextValue(_this.props.id);\n\n        case \"source\": // HTML\n\n        case \"preview\": // 미리보기\n\n        case \"design\": // 디자인\n\n        default:\n          return window.DEXT5.getBodyValue(_this.props.id);\n      }\n    };\n\n    _this.setContents = function (value) {\n      window.DEXT5.setBodyValue(value, _this.props.id);\n    };\n\n    _this.state = {\n      mode: \"design\"\n    };\n    _this.editor = null;\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef instanceof Function && this.props.onRef(this);\n      this.initEditor();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.onRef instanceof Function && this.props.onRef(undefined);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (prevProps.value != this.props.value) {\n        this.setContents(this.props.value);\n      }\n    }\n    /**\r\n     * 에디터 초기화\r\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"\".concat(this.props.id, \"-area\"),\n        style: _objectSpread(_objectSpread({}, this.props.style), {}, {\n          height: this.props.height,\n          width: this.props.width\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Editor;\n}(Component);\n\nEditor.propTypes = {\n  id: PropTypes.string,\n  height: PropTypes.string,\n  width: PropTypes.string,\n  style: PropTypes.object,\n  value: PropTypes.string,\n  onRef: PropTypes.func\n};\nEditor.defaultProps = {\n  id: \"dext5editor-\".concat(_.uniqueId()),\n  height: \"100%\",\n  width: \"100%\",\n  style: {},\n  value: \"\",\n  onRef: function onRef() {}\n};\nexport default Editor;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/src/main/custom-component/DextEditor.js"],"names":["React","Component","PropTypes","_","Editor","props","initEditor","window","DEXT5","config","Width","width","Height","height","RunTimes","StatusBarInitMode","EditorHolder","id","editor","Dext5editor","value","setContents","dext_editor_afterchangemode_event","newMode","currentMode","editorId","setState","mode","getContents","state","getBodyTextValue","getBodyValue","setBodyValue","onRef","Function","undefined","prevProps","prevState","snapshot","style","propTypes","string","object","func","defaultProps","uniqueId"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from \"lodash\";\r\n\r\nclass Editor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mode: \"design\",\r\n        };\r\n        this.editor = null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onRef instanceof Function && this.props.onRef(this);\r\n\r\n        this.initEditor();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onRef instanceof Function && this.props.onRef(undefined);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.value != this.props.value) {\r\n            this.setContents(this.props.value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 에디터 초기화\r\n     */\r\n     initEditor = ()=>{\r\n        // 해당 config 이외의 설정도 가능합니다. (www.dext5.com > 개발센터 참조)\r\n\r\n        //DEXT5.config.InitXml = \"dext_editor.xml\";\r\n        //DEXT5.config.HandlerUrl = \"http://www.dext5.com/handler/upload_handler.ashx\";\r\n        //DEXT5.config.SkinName = \"blue\";\r\n        //DEXT5.config.ToSavePathURL = \"dext5data\";\r\n        //DEXT5.config.NextTabElementId = \"nextInput\";\r\n        //DEXT5.config.Lang = \"ko-kr\"; // ko-kr, en-us, ja-jp, zh-cn, zh-tw\r\n        //DEXT5.config.Mode = \"view\";\r\n        //DEXT5.config.focusInitObjId = \"title\"; // 에디터가 로드된 후 설정한 아이디를 가진 객체에 포커스를 줌.\r\n\r\n        window.DEXT5.config.Width = this.props.width;\r\n        window.DEXT5.config.Height = this.props.height;\r\n        window.DEXT5.config.RunTimes = 'html5';\t// 웹표준모드 : html5, 플러그인모드(IE전용) : ieplugin, version이하 플러그인(IE전용) : versionieplugin\r\n        window.DEXT5.config.StatusBarInitMode = 'design';\t// 디자인 : design, HTML : source, 미리보기 : preview, TEXT: text\r\n\r\n        window.DEXT5.config.EditorHolder = `${this.props.id}-area`;\r\n\r\n        // 에디터의 팝업창과 우클릭 메뉴를 부모창에 띄우기 위한 설정.\r\n        // 에디터를 iframe 형태로 띄우는 경우 사이즈가 작아서 팝업창이나 우클릭 메뉴가 가려질 때 설정하면 유용합니다.\r\n        //DEXT5.config.DialogWindow = parent.window;\r\n\r\n        let editor = new window.Dext5editor(this.props.id);\r\n        this.editor = editor;\r\n\r\n        if(this.editor && this.props.value) {\r\n            // 기본값 입력\r\n            this.setContents(this.props.value);\r\n        }\r\n\r\n        window.dext_editor_afterchangemode_event = (newMode, currentMode, editorId) => {\r\n            // console.log(\"dext_editor_afterchangemode_event\", newMode, currentMode, editorId);\r\n            this.setState({\r\n                mode: newMode,\r\n            })\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 에디터 데이터 가져오기\r\n     * @returns html string, <body> to </body>\r\n     */\r\n    getContents = () => {\r\n        switch(this.state.mode) {\r\n            case \"text\": // text\r\n                return window.DEXT5.getBodyTextValue(this.props.id);\r\n            case \"source\": // HTML\r\n            case \"preview\": // 미리보기\r\n            case \"design\": // 디자인\r\n            default:\r\n                return window.DEXT5.getBodyValue(this.props.id);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 에디터 데이터 입력\r\n     * @param {string} value HTML string 혹은 일반 텍스트\r\n     */\r\n    setContents = (value) => {\r\n        window.DEXT5.setBodyValue(value, this.props.id);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div \r\n                    id={`${this.props.id}-area`}\r\n                    style={{\r\n                        ...this.props.style,\r\n                        height: this.props.height,\r\n                        width: this.props.width,\r\n                    }}\r\n                ></div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nEditor.propTypes = {\r\n    id: PropTypes.string,\r\n    height: PropTypes.string,\r\n    width: PropTypes.string,\r\n    style: PropTypes.object,\r\n    value: PropTypes.string,\r\n    onRef: PropTypes.func,\r\n}\r\n\r\nEditor.defaultProps = {\r\n    id: `dext5editor-${_.uniqueId()}`,\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    style: {},\r\n    value: \"\",\r\n    onRef: () => {},\r\n}\r\n\r\nexport default Editor;\r\n"]},"metadata":{},"sourceType":"module"}