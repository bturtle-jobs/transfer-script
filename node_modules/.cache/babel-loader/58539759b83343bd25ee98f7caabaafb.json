{"ast":null,"code":"import _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\owp\\\\src\\\\@fuse\\\\components\\\\FuseCountdown\\\\FuseCountdown.js\";\nimport React, { Component } from 'react';\nimport { Typography, withStyles } from '@material-ui/core';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nvar propTypes = {\n  endDate: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  onComplete: PropTypes.func\n};\nvar defaultProps = {\n  endDate: moment().add(15, 'days')\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {}\n  };\n};\n\nvar FuseCountdown = /*#__PURE__*/function (_Component) {\n  _inherits(FuseCountdown, _Component);\n\n  var _super = _createSuper(FuseCountdown);\n\n  function FuseCountdown() {\n    var _this;\n\n    _classCallCheck(this, FuseCountdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      endDate: moment.isMoment(_this.props.endDate) ? _this.props.endDate : moment(_this.props.endDate),\n      countdown: {\n        days: '',\n        hours: '',\n        minutes: '',\n        seconds: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(FuseCountdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.tick();\n      this.interval = setInterval(function () {\n        _this2.tick();\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.clearInterval(this.interval);\n    }\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      var endDate = this.state.endDate;\n      var currDate = moment();\n      var diff = endDate.diff(currDate, 'seconds');\n\n      if (diff < 0) {\n        this.complete();\n        return;\n      }\n\n      var timeLeft = moment.duration(diff, 'seconds');\n      this.setState({\n        countdown: {\n          days: timeLeft.asDays().toFixed(0),\n          hours: timeLeft.hours(),\n          minutes: timeLeft.minutes(),\n          seconds: timeLeft.seconds()\n        }\n      });\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      window.clearInterval(this.interval);\n\n      if (this.props.onComplete) {\n        this.props.onComplete();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var countdown = this.state.countdown;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(classes.root, \"flex items-center\", this.props.className),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center px-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        color: \"inherit\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, countdown.days), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, \"days\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center px-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        color: \"inherit\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, countdown.hours), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, \"hours\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center px-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        color: \"inherit\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, countdown.minutes), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, \"minutes\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col items-center justify-center px-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        color: \"inherit\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }, countdown.seconds), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, \"seconds\")));\n    }\n  }]);\n\n  return FuseCountdown;\n}(Component);\n\nFuseCountdown.propTypes = propTypes;\nFuseCountdown.defaultProps = defaultProps;\nexport default withStyles(styles)(FuseCountdown);","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/@fuse/components/FuseCountdown/FuseCountdown.js"],"names":["React","Component","Typography","withStyles","moment","classNames","PropTypes","propTypes","endDate","oneOfType","string","object","isRequired","onComplete","func","defaultProps","add","styles","theme","root","FuseCountdown","state","isMoment","props","countdown","days","hours","minutes","seconds","tick","interval","setInterval","window","clearInterval","currDate","diff","complete","timeLeft","duration","setState","asDays","toFixed","classes","className"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Typography, withStyles} from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n    endDate   : PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n    onComplete: PropTypes.func\r\n};\r\n\r\nconst defaultProps = {\r\n    endDate: moment().add(15, 'days')\r\n};\r\n\r\nconst styles = theme => ({\r\n    root: {}\r\n});\r\n\r\nclass FuseCountdown extends Component {\r\n    state = {\r\n        endDate  : moment.isMoment(this.props.endDate) ? this.props.endDate : moment(this.props.endDate),\r\n        countdown: {\r\n            days   : '',\r\n            hours  : '',\r\n            minutes: '',\r\n            seconds: ''\r\n        }\r\n    };\r\n\r\n    componentDidMount()\r\n    {\r\n        this.tick();\r\n        this.interval = setInterval(() => {\r\n            this.tick()\r\n        }, 1000);\r\n    }\r\n\r\n    componentWillUnmount()\r\n    {\r\n        window.clearInterval(this.interval);\r\n    }\r\n\r\n    tick()\r\n    {\r\n        const {endDate} = this.state;\r\n\r\n        const currDate = moment();\r\n        const diff = endDate.diff(currDate, 'seconds');\r\n        if ( diff < 0 )\r\n        {\r\n            this.complete();\r\n            return;\r\n        }\r\n        const timeLeft = moment.duration(diff, 'seconds');\r\n        this.setState({\r\n            countdown: {\r\n                days   : timeLeft.asDays().toFixed(0),\r\n                hours  : timeLeft.hours(),\r\n                minutes: timeLeft.minutes(),\r\n                seconds: timeLeft.seconds()\r\n            }\r\n        });\r\n    }\r\n\r\n    complete()\r\n    {\r\n        window.clearInterval(this.interval);\r\n        if ( this.props.onComplete )\r\n        {\r\n            this.props.onComplete();\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {classes} = this.props;\r\n        const {countdown} = this.state;\r\n\r\n        return (\r\n            <div className={classNames(classes.root, \"flex items-center\", this.props.className)}>\r\n                <div className=\"flex flex-col items-center justify-center px-12\">\r\n                    <Typography variant=\"h4\" color=\"inherit\" className=\"mb-4\">\r\n                        {countdown.days}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        days\r\n                    </Typography>\r\n                </div>\r\n                <div className=\"flex flex-col items-center justify-center px-12\">\r\n                    <Typography variant=\"h4\" color=\"inherit\" className=\"mb-4\">\r\n                        {countdown.hours}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        hours\r\n                    </Typography>\r\n                </div>\r\n                <div className=\"flex flex-col items-center justify-center px-12\">\r\n                    <Typography variant=\"h4\" color=\"inherit\" className=\"mb-4\">\r\n                        {countdown.minutes}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        minutes\r\n                    </Typography>\r\n                </div>\r\n                <div className=\"flex flex-col items-center justify-center px-12\">\r\n                    <Typography variant=\"h4\" color=\"inherit\" className=\"mb-4\">\r\n                        {countdown.seconds}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                        seconds\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nFuseCountdown.propTypes = propTypes;\r\nFuseCountdown.defaultProps = defaultProps;\r\n\r\nexport default withStyles(styles)(FuseCountdown);\r\n"]},"metadata":{},"sourceType":"module"}