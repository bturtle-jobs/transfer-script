{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\src\\\\main\\\\content\\\\pages\\\\C802000\\\\C802000.js\";\nimport React, { Component } from 'react';\nimport * as TGEvent from 'owp/TGEvent';\nimport { OwpPageCarded, OwpTreeGrid } from 'owp/wrapper';\nimport Icon from '@material-ui/core/Icon';\nimport Dialog_C802001 from 'main/content/include/Dialog_C802001';\nimport Dialog_C802002 from 'main/content/include/Dialog_C802002';\nimport Dialog_C802003 from 'main/content/include/Dialog_C802003';\nimport { saveGridSelect } from '../../../GridUtill';\nimport translationHelper from 'main/content/utils/translationHelper';\nvar pageID = 'C802000';\n\nvar Page = /*#__PURE__*/function (_Component) {\n  _inherits(Page, _Component);\n\n  var _super = _createSuper(Page);\n\n  function Page(props) {\n    var _this;\n\n    _classCallCheck(this, Page);\n\n    _this = _super.call(this, props);\n\n    _this.fetchlistPermission = function () {\n      var interval = window.setInterval(function () {\n        var G = TGEvent.getGridByID('C802001');\n\n        if (!!G) {\n          if (G.Loading === 0) {\n            window.clearInterval(interval);\n            G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIPX_CommonCodePERMISSIONAC?jsondata={\"VER\":\"2\"}');\n            G.ReloadBody();\n            G.ClearSelection();\n          }\n        }\n      }, 100);\n    };\n\n    _this.fetchlistIpxPagepermissionData = function (condition) {\n      var G = TGEvent.getGridByID('C802002');\n      G.Data.Data.Url = process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIpxPagepermission?jsondata={\"IPX_PAGEPERMISSION.PERMISSIONID\":\"' + condition + '\",\"VER\":\"2\"}');\n      G.ReloadBody();\n      G.ClearSelection();\n    };\n\n    _this.authorityGroupClearProps = function () {\n      _this.setState({\n        CODEID: null\n      });\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(Page, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchlistPermission();\n\n              case 2:\n                TGEvent.OWPTGSelect('C802001', function (is, row) {\n                  if (is) {\n                    saveGridSelect('C802001', 'PERMISSIONID');\n\n                    _this2.setState({\n                      CODEID: row['PERMISSIONID'],\n                      // SEQ\n                      CODENM: row['PERMISSIONNM'] // 권한그룹\n\n                    });\n\n                    _this2.fetchlistIpxPagepermissionData(_this2.state.CODEID);\n                  } else {\n                    _this2.setState({});\n\n                    _this2.setState({\n                      CODEID: null,\n                      // SEQ\n                      CODENM: null,\n                      // 권한그룹\n                      GROUPID: null\n                    });\n\n                    _this2.fetchlistIpxPagepermissionData('XXXXXXX');\n                  }\n                });\n                TGEvent.OWPTGSelect('C802002', function (is, row) {\n                  if (is === true) {\n                    _this2.setState({\n                      PERMISSIONSEQ: row['IPX_PAGEPERMISSION.PERMISSIONSEQ'] // SEQ\n\n                    });\n                  } else if (is === false) {\n                    _this2.setState({\n                      PERMISSIONSEQ: null // SEQ\n\n                    });\n                  }\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(OwpPageCarded, {\n        content: /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pt-16\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet light bordered\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"caption\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"ico_m01 c04\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 57\n          }\n        }, \"insert_chart\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-dark bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 57\n          }\n        }, translationHelper(pageID + '.title.authority_group_list')), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"caption-helper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 57\n          }\n        }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex justify-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Dialog_C802001, {\n          CODEID: this.state.CODEID,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 57\n          }\n        }), /*#__PURE__*/React.createElement(Dialog_C802002, {\n          CODEID: this.state.CODEID,\n          authorityGroupClearProps: this.authorityGroupClearProps,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 57\n          }\n        }), /*#__PURE__*/React.createElement(Dialog_C802003, {\n          CODEID: this.state.CODEID,\n          authorityGroupClearProps: this.authorityGroupClearProps,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 57\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(OwpTreeGrid, {\n          id: 'C802001',\n          LayoutUrl: '/assets/data/C802001Def.xml',\n          height: \"76vh\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 53\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-8\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet light bordered\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"caption\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"ico_m01 c04\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 57\n          }\n        }, \"insert_chart\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-dark bold\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 57\n          }\n        }, translationHelper(pageID + '.title.detailed_authority_list')), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"caption-helper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 57\n          }\n        }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex justify-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 53\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"portlet-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(OwpTreeGrid, {\n          id: 'C802002',\n          LayoutUrl: '/assets/data/C802002Def.xml',\n          height: \"76vh\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 53\n          }\n        })))))))),\n        innerScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Page;\n}(Component);\n\nexport default Page;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/src/main/content/pages/C802000/C802000.js"],"names":["React","Component","TGEvent","OwpPageCarded","OwpTreeGrid","Icon","Dialog_C802001","Dialog_C802002","Dialog_C802003","saveGridSelect","translationHelper","pageID","Page","props","fetchlistPermission","interval","window","setInterval","G","getGridByID","Loading","clearInterval","Data","Url","process","env","REACT_APP_REST_API_URL","encodeURI","ReloadBody","ClearSelection","fetchlistIpxPagepermissionData","condition","authorityGroupClearProps","setState","CODEID","state","OWPTGSelect","is","row","CODENM","GROUPID","PERMISSIONSEQ"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as TGEvent from 'owp/TGEvent';\r\nimport {\r\n    OwpPageCarded,\r\n    OwpTreeGrid\r\n} from 'owp/wrapper';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Dialog_C802001 from 'main/content/include/Dialog_C802001';\r\nimport Dialog_C802002 from 'main/content/include/Dialog_C802002';\r\nimport Dialog_C802003 from 'main/content/include/Dialog_C802003';\r\nimport { saveGridSelect } from '../../../GridUtill';\r\nimport translationHelper from 'main/content/utils/translationHelper';\r\nconst pageID = 'C802000';\r\nclass Page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.fetchlistPermission();\r\n        TGEvent.OWPTGSelect('C802001', (is, row) => {\r\n            if (is) {\r\n                saveGridSelect('C802001', 'PERMISSIONID');\r\n                this.setState({\r\n                    CODEID: row['PERMISSIONID'],   // SEQ\r\n                    CODENM: row['PERMISSIONNM'],   // 권한그룹\r\n                });\r\n                this.fetchlistIpxPagepermissionData(this.state.CODEID);\r\n            } else {\r\n                this.setState({});\r\n                this.setState({\r\n                    CODEID: null,   // SEQ\r\n                    CODENM: null,   // 권한그룹\r\n                    GROUPID: null,\r\n                });\r\n                this.fetchlistIpxPagepermissionData('XXXXXXX');\r\n            }\r\n        });\r\n\r\n        TGEvent.OWPTGSelect('C802002', (is, row) => {\r\n            if (is === true) {\r\n                this.setState({\r\n                    PERMISSIONSEQ: row['IPX_PAGEPERMISSION.PERMISSIONSEQ'],   // SEQ\r\n                });\r\n            } else if (is === false) {\r\n                this.setState({\r\n                    PERMISSIONSEQ: null,   // SEQ\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    fetchlistPermission = () => {\r\n        let interval = window.setInterval(() => {\r\n            let G = TGEvent.getGridByID('C802001');\r\n            if (!!G) {\r\n                if (G.Loading === 0) {\r\n                    window.clearInterval(interval);\r\n                    G.Data.Data.Url =\r\n                        process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIPX_CommonCodePERMISSIONAC?jsondata={\"VER\":\"2\"}');\r\n                    G.ReloadBody();\r\n                    G.ClearSelection();\r\n                }\r\n            }\r\n        }, 100);\r\n    };\r\n\r\n    fetchlistIpxPagepermissionData = (condition) => {\r\n        const G = TGEvent.getGridByID('C802002');\r\n        G.Data.Data.Url =\r\n            process.env.REACT_APP_REST_API_URL + '/' + encodeURI('listIpxPagepermission?jsondata={\"IPX_PAGEPERMISSION.PERMISSIONID\":\"' + condition + '\",\"VER\":\"2\"}');\r\n        G.ReloadBody();\r\n        G.ClearSelection();\r\n    };\r\n\r\n    // CODEID 초기화\r\n    authorityGroupClearProps = () => {\r\n        this.setState({\r\n            CODEID: null,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <OwpPageCarded\r\n                    content={\r\n                        <React.Fragment>\r\n                            <div>\r\n                                <div className=\"pt-16\">\r\n                                    <div>\r\n                                        <div className=\"col-lg-4\">\r\n                                            <div className=\"portlet light bordered\">\r\n                                                <div className=\"portlet-title\">\r\n                                                    <div className=\"caption\">\r\n                                                        <Icon className=\"ico_m01 c04\">insert_chart</Icon>\r\n                                                        <span className=\"font-dark bold\">{translationHelper(pageID + '.title.authority_group_list')}</span>\r\n                                                        <span className=\"caption-helper\"> </span>\r\n                                                    </div>\r\n                                                    <div className=\"flex justify-end\">\r\n                                                        <Dialog_C802001\r\n                                                            CODEID={this.state.CODEID}\r\n                                                        />\r\n                                                        <Dialog_C802002\r\n                                                            CODEID={this.state.CODEID}\r\n                                                            authorityGroupClearProps={this.authorityGroupClearProps}\r\n                                                        />\r\n                                                        <Dialog_C802003\r\n                                                            CODEID={this.state.CODEID}\r\n                                                            authorityGroupClearProps={this.authorityGroupClearProps}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"portlet-body\">\r\n                                                    <OwpTreeGrid\r\n                                                        id={'C802001'}\r\n                                                        LayoutUrl={'/assets/data/C802001Def.xml'}\r\n                                                        height=\"76vh\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <div className=\"col-lg-8\">\r\n                                            <div className=\"portlet light bordered\">\r\n                                                <div className=\"portlet-title\">\r\n                                                    <div className=\"caption\">\r\n                                                        <Icon className=\"ico_m01 c04\">insert_chart</Icon>\r\n                                                        <span className=\"font-dark bold\">{translationHelper(pageID + '.title.detailed_authority_list')}</span>\r\n                                                        <span className=\"caption-helper\"> </span>\r\n                                                    </div>\r\n                                                    <div className=\"flex justify-end\">\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"portlet-body\">\r\n                                                    <OwpTreeGrid\r\n                                                        id={'C802002'}\r\n                                                        LayoutUrl={'/assets/data/C802002Def.xml'}\r\n                                                        height=\"76vh\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </React.Fragment>\r\n                    }\r\n                    innerScroll\r\n                />\r\n            </React.Fragment>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}