{"ast":null,"code":"\"use strict\";\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _defaults(subClass, superClass);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OldValue = require('../old-value');\n\nvar Value = require('../value');\n\nvar utils = require('../utils');\n\nvar parser = require('postcss-value-parser');\n\nvar range = require('normalize-range');\n\nvar IS_DIRECTION = /top|left|right|bottom/gi;\n\nvar Gradient = /*#__PURE__*/function (_Value) {\n  _inheritsLoose(Gradient, _Value);\n\n  function Gradient() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Value.call.apply(_Value, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"directions\", {\n      top: 'bottom',\n      left: 'right',\n      bottom: 'top',\n      right: 'left' // Direction to replace\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"oldDirections\", {\n      'top': 'left bottom, left top',\n      'left': 'right top, left top',\n      'bottom': 'left top, left bottom',\n      'right': 'left top, right top',\n      'top right': 'left bottom, right top',\n      'top left': 'right bottom, left top',\n      'right top': 'left bottom, right top',\n      'right bottom': 'left top, right bottom',\n      'bottom right': 'left top, right bottom',\n      'bottom left': 'right top, left bottom',\n      'left top': 'right bottom, left top',\n      'left bottom': 'right top, left bottom'\n      /**\n       * Change degrees for webkit prefix\n       */\n\n    });\n\n    return _this;\n  }\n\n  var _proto = Gradient.prototype;\n\n  _proto.replace = function replace(string, prefix) {\n    var ast = parser(string);\n\n    for (var _iterator = ast.nodes, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (node.type === 'function' && node.value === this.name) {\n        node.nodes = this.newDirection(node.nodes);\n        node.nodes = this.normalize(node.nodes);\n\n        if (prefix === '-webkit- old') {\n          var changes = this.oldWebkit(node);\n\n          if (!changes) {\n            return false;\n          }\n        } else {\n          node.nodes = this.convertDirection(node.nodes);\n          node.value = prefix + node.value;\n        }\n      }\n    }\n\n    return ast.toString();\n  }\n  /**\n   * Replace first token\n   */\n  ;\n\n  _proto.replaceFirst = function replaceFirst(params) {\n    for (var _len2 = arguments.length, words = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      words[_key2 - 1] = arguments[_key2];\n    }\n\n    var prefix = words.map(function (i) {\n      if (i === ' ') {\n        return {\n          type: 'space',\n          value: i\n        };\n      }\n\n      return {\n        type: 'word',\n        value: i\n      };\n    });\n    return prefix.concat(params.slice(1));\n  }\n  /**\n   * Convert angle unit to deg\n   */\n  ;\n\n  _proto.normalizeUnit = function normalizeUnit(str, full) {\n    var num = parseFloat(str);\n    var deg = num / full * 360;\n    return deg + \"deg\";\n  }\n  /**\n   * Normalize angle\n   */\n  ;\n\n  _proto.normalize = function normalize(nodes) {\n    if (!nodes[0]) return nodes;\n\n    if (/-?\\d+(.\\d+)?grad/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 400);\n    } else if (/-?\\d+(.\\d+)?rad/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 2 * Math.PI);\n    } else if (/-?\\d+(.\\d+)?turn/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 1);\n    } else if (nodes[0].value.indexOf('deg') !== -1) {\n      var num = parseFloat(nodes[0].value);\n      num = range.wrap(0, 360, num);\n      nodes[0].value = num + \"deg\";\n    }\n\n    if (nodes[0].value === '0deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'top');\n    } else if (nodes[0].value === '90deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'right');\n    } else if (nodes[0].value === '180deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'bottom');\n    } else if (nodes[0].value === '270deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'left');\n    }\n\n    return nodes;\n  }\n  /**\n   * Replace old direction to new\n   */\n  ;\n\n  _proto.newDirection = function newDirection(params) {\n    if (params[0].value === 'to') {\n      return params;\n    }\n\n    IS_DIRECTION.lastIndex = 0; // reset search index of global regexp\n\n    if (!IS_DIRECTION.test(params[0].value)) {\n      return params;\n    }\n\n    params.unshift({\n      type: 'word',\n      value: 'to'\n    }, {\n      type: 'space',\n      value: ' '\n    });\n\n    for (var i = 2; i < params.length; i++) {\n      if (params[i].type === 'div') {\n        break;\n      }\n\n      if (params[i].type === 'word') {\n        params[i].value = this.revertDirection(params[i].value);\n      }\n    }\n\n    return params;\n  }\n  /**\n   * Look for at word\n   */\n  ;\n\n  _proto.isRadial = function isRadial(params) {\n    var state = 'before';\n\n    for (var _iterator2 = params, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var param = _ref2;\n\n      if (state === 'before' && param.type === 'space') {\n        state = 'at';\n      } else if (state === 'at' && param.value === 'at') {\n        state = 'after';\n      } else if (state === 'after' && param.type === 'space') {\n        return true;\n      } else if (param.type === 'div') {\n        break;\n      } else {\n        state = 'before';\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Change new direction to old\n   */\n  ;\n\n  _proto.convertDirection = function convertDirection(params) {\n    if (params.length > 0) {\n      if (params[0].value === 'to') {\n        this.fixDirection(params);\n      } else if (params[0].value.indexOf('deg') !== -1) {\n        this.fixAngle(params);\n      } else if (this.isRadial(params)) {\n        this.fixRadial(params);\n      }\n    }\n\n    return params;\n  }\n  /**\n   * Replace `to top left` to `bottom right`\n   */\n  ;\n\n  _proto.fixDirection = function fixDirection(params) {\n    params.splice(0, 2);\n\n    for (var _iterator3 = params, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var param = _ref3;\n\n      if (param.type === 'div') {\n        break;\n      }\n\n      if (param.type === 'word') {\n        param.value = this.revertDirection(param.value);\n      }\n    }\n  }\n  /**\n   * Add 90 degrees\n   */\n  ;\n\n  _proto.fixAngle = function fixAngle(params) {\n    var first = params[0].value;\n    first = parseFloat(first);\n    first = Math.abs(450 - first) % 360;\n    first = this.roundFloat(first, 3);\n    params[0].value = first + \"deg\";\n  }\n  /**\n   * Fix radial direction syntax\n   */\n  ;\n\n  _proto.fixRadial = function fixRadial(params) {\n    var first = [];\n    var second = [];\n    var a, b, c, i, next;\n\n    for (i = 0; i < params.length - 2; i++) {\n      a = params[i];\n      b = params[i + 1];\n      c = params[i + 2];\n\n      if (a.type === 'space' && b.value === 'at' && c.type === 'space') {\n        next = i + 3;\n        break;\n      } else {\n        first.push(a);\n      }\n    }\n\n    var div;\n\n    for (i = next; i < params.length; i++) {\n      if (params[i].type === 'div') {\n        div = params[i];\n        break;\n      } else {\n        second.push(params[i]);\n      }\n    }\n\n    params.splice.apply(params, [0, i].concat(second, [div], first));\n  };\n\n  _proto.revertDirection = function revertDirection(word) {\n    return this.directions[word.toLowerCase()] || word;\n  }\n  /**\n   * Round float and save digits under dot\n   */\n  ;\n\n  _proto.roundFloat = function roundFloat(float, digits) {\n    return parseFloat(float.toFixed(digits));\n  }\n  /**\n   * Convert to old webkit syntax\n   */\n  ;\n\n  _proto.oldWebkit = function oldWebkit(node) {\n    var nodes = node.nodes;\n    var string = parser.stringify(node.nodes);\n\n    if (this.name !== 'linear-gradient') {\n      return false;\n    }\n\n    if (nodes[0] && nodes[0].value.indexOf('deg') !== -1) {\n      return false;\n    }\n\n    if (string.indexOf('px') !== -1 || string.indexOf('-corner') !== -1 || string.indexOf('-side') !== -1) {\n      return false;\n    }\n\n    var params = [[]];\n\n    for (var _iterator4 = nodes, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var i = _ref4;\n      params[params.length - 1].push(i);\n\n      if (i.type === 'div' && i.value === ',') {\n        params.push([]);\n      }\n    }\n\n    this.oldDirection(params);\n    this.colorStops(params);\n    node.nodes = [];\n\n    for (var _i5 = 0; _i5 < params.length; _i5++) {\n      var param = params[_i5];\n      node.nodes = node.nodes.concat(param);\n    }\n\n    node.nodes.unshift({\n      type: 'word',\n      value: 'linear'\n    }, this.cloneDiv(node.nodes));\n    node.value = '-webkit-gradient';\n    return true;\n  }\n  /**\n   * Change direction syntax to old webkit\n   */\n  ;\n\n  _proto.oldDirection = function oldDirection(params) {\n    var div = this.cloneDiv(params[0]);\n\n    if (params[0][0].value !== 'to') {\n      return params.unshift([{\n        type: 'word',\n        value: this.oldDirections.bottom\n      }, div]);\n    } else {\n      var words = [];\n\n      for (var _iterator5 = params[0].slice(2), _isArray5 = Array.isArray(_iterator5), _i6 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n        var _ref5;\n\n        if (_isArray5) {\n          if (_i6 >= _iterator5.length) break;\n          _ref5 = _iterator5[_i6++];\n        } else {\n          _i6 = _iterator5.next();\n          if (_i6.done) break;\n          _ref5 = _i6.value;\n        }\n\n        var node = _ref5;\n\n        if (node.type === 'word') {\n          words.push(node.value.toLowerCase());\n        }\n      }\n\n      words = words.join(' ');\n      var old = this.oldDirections[words] || words;\n      params[0] = [{\n        type: 'word',\n        value: old\n      }, div];\n      return params[0];\n    }\n  }\n  /**\n   * Get div token from exists parameters\n   */\n  ;\n\n  _proto.cloneDiv = function cloneDiv(params) {\n    for (var _iterator6 = params, _isArray6 = Array.isArray(_iterator6), _i7 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n      var _ref6;\n\n      if (_isArray6) {\n        if (_i7 >= _iterator6.length) break;\n        _ref6 = _iterator6[_i7++];\n      } else {\n        _i7 = _iterator6.next();\n        if (_i7.done) break;\n        _ref6 = _i7.value;\n      }\n\n      var i = _ref6;\n\n      if (i.type === 'div' && i.value === ',') {\n        return i;\n      }\n    }\n\n    return {\n      type: 'div',\n      value: ',',\n      after: ' '\n    };\n  }\n  /**\n   * Change colors syntax to old webkit\n   */\n  ;\n\n  _proto.colorStops = function colorStops(params) {\n    var result = [];\n\n    for (var i = 0; i < params.length; i++) {\n      var pos = void 0;\n      var param = params[i];\n      var item = void 0;\n\n      if (i === 0) {\n        continue;\n      }\n\n      var color = parser.stringify(param[0]);\n\n      if (param[1] && param[1].type === 'word') {\n        pos = param[1].value;\n      } else if (param[2] && param[2].type === 'word') {\n        pos = param[2].value;\n      }\n\n      var stop = void 0;\n\n      if (i === 1 && (!pos || pos === '0%')) {\n        stop = \"from(\" + color + \")\";\n      } else if (i === params.length - 1 && (!pos || pos === '100%')) {\n        stop = \"to(\" + color + \")\";\n      } else if (pos) {\n        stop = \"color-stop(\" + pos + \", \" + color + \")\";\n      } else {\n        stop = \"color-stop(\" + color + \")\";\n      }\n\n      var div = param[param.length - 1];\n      params[i] = [{\n        type: 'word',\n        value: stop\n      }];\n\n      if (div.type === 'div' && div.value === ',') {\n        item = params[i].push(div);\n      }\n\n      result.push(item);\n    }\n\n    return result;\n  }\n  /**\n   * Remove old WebKit gradient too\n   */\n  ;\n\n  _proto.old = function old(prefix) {\n    if (prefix === '-webkit-') {\n      var type = this.name === 'linear-gradient' ? 'linear' : 'radial';\n      var string = '-gradient';\n      var regexp = utils.regexp(\"-webkit-(\" + type + \"-gradient|gradient\\\\(\\\\s*\" + type + \")\", false);\n      return new OldValue(this.name, prefix + this.name, string, regexp);\n    } else {\n      return _Value.prototype.old.call(this, prefix);\n    }\n  }\n  /**\n   * Do not add non-webkit prefixes for list-style and object\n   */\n  ;\n\n  _proto.add = function add(decl, prefix) {\n    var p = decl.prop;\n\n    if (p.indexOf('mask') !== -1) {\n      if (prefix === '-webkit-' || prefix === '-webkit- old') {\n        return _Value.prototype.add.call(this, decl, prefix);\n      }\n    } else if (p === 'list-style' || p === 'list-style-image' || p === 'content') {\n      if (prefix === '-webkit-' || prefix === '-webkit- old') {\n        return _Value.prototype.add.call(this, decl, prefix);\n      }\n    } else {\n      return _Value.prototype.add.call(this, decl, prefix);\n    }\n\n    return undefined;\n  };\n\n  return Gradient;\n}(Value);\n\n_defineProperty(Gradient, \"names\", ['linear-gradient', 'repeating-linear-gradient', 'radial-gradient', 'repeating-radial-gradient']);\n\nmodule.exports = Gradient;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/autoprefixer/lib/hacks/gradient.js"],"names":["_defaults","obj","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_defineProperty","enumerable","writable","OldValue","require","Value","utils","parser","range","IS_DIRECTION","Gradient","_Value","_this","_len","arguments","args","Array","_key","call","apply","concat","top","left","bottom","right","_proto","replace","string","prefix","ast","_iterator","nodes","_isArray","isArray","_i","Symbol","iterator","_ref","next","done","node","type","name","newDirection","normalize","changes","oldWebkit","convertDirection","toString","replaceFirst","params","_len2","words","_key2","map","slice","normalizeUnit","str","full","num","parseFloat","deg","test","Math","PI","indexOf","wrap","lastIndex","unshift","revertDirection","isRadial","state","_iterator2","_isArray2","_i2","_ref2","param","fixDirection","fixAngle","fixRadial","splice","_iterator3","_isArray3","_i3","_ref3","first","abs","roundFloat","second","a","b","c","push","div","word","directions","toLowerCase","float","digits","toFixed","stringify","_iterator4","_isArray4","_i4","_ref4","oldDirection","colorStops","_i5","cloneDiv","oldDirections","_iterator5","_isArray5","_i6","_ref5","join","old","_iterator6","_isArray6","_i7","_ref6","after","result","pos","item","color","stop","regexp","add","decl","p","prop","module","exports"],"mappings":"AAAA;;AAEA,SAASA,SAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACC,mBAAP,CAA2BH,QAA3B,CAAX;;AAAiD,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAAE,QAAIE,GAAG,GAAGL,IAAI,CAACG,CAAD,CAAd;AAAmB,QAAIG,KAAK,GAAGL,MAAM,CAACM,wBAAP,CAAgCR,QAAhC,EAA0CM,GAA1C,CAAZ;;AAA4D,QAAIC,KAAK,IAAIA,KAAK,CAACE,YAAf,IAA+BV,GAAG,CAACO,GAAD,CAAH,KAAaI,SAAhD,EAA2D;AAAER,MAAAA,MAAM,CAACS,cAAP,CAAsBZ,GAAtB,EAA2BO,GAA3B,EAAgCC,KAAhC;AAAyC;AAAE;;AAAC,SAAOR,GAAP;AAAa;;AAElU,SAASa,sBAAT,CAAgCC,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOD,IAAP;AAAc;;AAEtK,SAASE,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AAAED,EAAAA,QAAQ,CAACE,SAAT,GAAqBhB,MAAM,CAACiB,MAAP,CAAcF,UAAU,CAACC,SAAzB,CAArB;AAA0DF,EAAAA,QAAQ,CAACE,SAAT,CAAmBE,WAAnB,GAAiCJ,QAAjC;;AAA2ClB,EAAAA,SAAS,CAACkB,QAAD,EAAWC,UAAX,CAAT;AAAkC;;AAEvL,SAASI,eAAT,CAAyBtB,GAAzB,EAA8BO,GAA9B,EAAmCC,KAAnC,EAA0C;AAAE,MAAID,GAAG,IAAIP,GAAX,EAAgB;AAAEG,IAAAA,MAAM,CAACS,cAAP,CAAsBZ,GAAtB,EAA2BO,GAA3B,EAAgC;AAAEC,MAAAA,KAAK,EAAEA,KAAT;AAAgBe,MAAAA,UAAU,EAAE,IAA5B;AAAkCb,MAAAA,YAAY,EAAE,IAAhD;AAAsDc,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAExB,IAAAA,GAAG,CAACO,GAAD,CAAH,GAAWC,KAAX;AAAmB;;AAAC,SAAOR,GAAP;AAAa;;AAEjN,IAAIyB,QAAQ,GAAGC,OAAO,CAAC,cAAD,CAAtB;;AAEA,IAAIC,KAAK,GAAGD,OAAO,CAAC,UAAD,CAAnB;;AAEA,IAAIE,KAAK,GAAGF,OAAO,CAAC,UAAD,CAAnB;;AAEA,IAAIG,MAAM,GAAGH,OAAO,CAAC,sBAAD,CAApB;;AAEA,IAAII,KAAK,GAAGJ,OAAO,CAAC,iBAAD,CAAnB;;AAEA,IAAIK,YAAY,GAAG,yBAAnB;;AAEA,IAAIC,QAAQ,GACZ,aACA,UAAUC,MAAV,EAAkB;AAChBjB,EAAAA,cAAc,CAACgB,QAAD,EAAWC,MAAX,CAAd;;AAEA,WAASD,QAAT,GAAoB;AAClB,QAAIE,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAAC9B,MAArB,EAA6B+B,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAV,CAApC,EAAqDI,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGJ,IAA3E,EAAiFI,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaH,SAAS,CAACG,IAAD,CAAtB;AACD;;AAEDL,IAAAA,KAAK,GAAGD,MAAM,CAACO,IAAP,CAAYC,KAAZ,CAAkBR,MAAlB,EAA0B,CAAC,IAAD,EAAOS,MAAP,CAAcL,IAAd,CAA1B,KAAkD,IAA1D;;AAEAf,IAAAA,eAAe,CAACT,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,YAAhC,EAA8C;AAC3DS,MAAAA,GAAG,EAAE,QADsD;AAE3DC,MAAAA,IAAI,EAAE,OAFqD;AAG3DC,MAAAA,MAAM,EAAE,KAHmD;AAI3DC,MAAAA,KAAK,EAAE,MAJoD,CAI7C;;AAJ6C,KAA9C,CAAf;;AAQAxB,IAAAA,eAAe,CAACT,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,eAAhC,EAAiD;AAC9D,aAAO,uBADuD;AAE9D,cAAQ,qBAFsD;AAG9D,gBAAU,uBAHoD;AAI9D,eAAS,qBAJqD;AAK9D,mBAAa,wBALiD;AAM9D,kBAAY,wBANkD;AAO9D,mBAAa,wBAPiD;AAQ9D,sBAAgB,wBAR8C;AAS9D,sBAAgB,wBAT8C;AAU9D,qBAAe,wBAV+C;AAW9D,kBAAY,wBAXkD;AAY9D,qBAAe;AACf;AACN;AACA;;AAfoE,KAAjD,CAAf;;AAmBA,WAAOA,KAAP;AACD;;AAED,MAAIa,MAAM,GAAGf,QAAQ,CAACb,SAAtB;;AAEA4B,EAAAA,MAAM,CAACC,OAAP,GAAiB,SAASA,OAAT,CAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AAChD,QAAIC,GAAG,GAAGtB,MAAM,CAACoB,MAAD,CAAhB;;AAEA,SAAK,IAAIG,SAAS,GAAGD,GAAG,CAACE,KAApB,EAA2BC,QAAQ,GAAGhB,KAAK,CAACiB,OAAN,CAAcH,SAAd,CAAtC,EAAgEI,EAAE,GAAG,CAArE,EAAwEJ,SAAS,GAAGE,QAAQ,GAAGF,SAAH,GAAeA,SAAS,CAACK,MAAM,CAACC,QAAR,CAAT,EAAhH,IAAgJ;AAC9I,UAAIC,IAAJ;;AAEA,UAAIL,QAAJ,EAAc;AACZ,YAAIE,EAAE,IAAIJ,SAAS,CAAC9C,MAApB,EAA4B;AAC5BqD,QAAAA,IAAI,GAAGP,SAAS,CAACI,EAAE,EAAH,CAAhB;AACD,OAHD,MAGO;AACLA,QAAAA,EAAE,GAAGJ,SAAS,CAACQ,IAAV,EAAL;AACA,YAAIJ,EAAE,CAACK,IAAP,EAAa;AACbF,QAAAA,IAAI,GAAGH,EAAE,CAAChD,KAAV;AACD;;AAED,UAAIsD,IAAI,GAAGH,IAAX;;AAEA,UAAIG,IAAI,CAACC,IAAL,KAAc,UAAd,IAA4BD,IAAI,CAACtD,KAAL,KAAe,KAAKwD,IAApD,EAA0D;AACxDF,QAAAA,IAAI,CAACT,KAAL,GAAa,KAAKY,YAAL,CAAkBH,IAAI,CAACT,KAAvB,CAAb;AACAS,QAAAA,IAAI,CAACT,KAAL,GAAa,KAAKa,SAAL,CAAeJ,IAAI,CAACT,KAApB,CAAb;;AAEA,YAAIH,MAAM,KAAK,cAAf,EAA+B;AAC7B,cAAIiB,OAAO,GAAG,KAAKC,SAAL,CAAeN,IAAf,CAAd;;AAEA,cAAI,CAACK,OAAL,EAAc;AACZ,mBAAO,KAAP;AACD;AACF,SAND,MAMO;AACLL,UAAAA,IAAI,CAACT,KAAL,GAAa,KAAKgB,gBAAL,CAAsBP,IAAI,CAACT,KAA3B,CAAb;AACAS,UAAAA,IAAI,CAACtD,KAAL,GAAa0C,MAAM,GAAGY,IAAI,CAACtD,KAA3B;AACD;AACF;AACF;;AAED,WAAO2C,GAAG,CAACmB,QAAJ,EAAP;AACD;AACD;AACF;AACA;AAtCE;;AAyCAvB,EAAAA,MAAM,CAACwB,YAAP,GAAsB,SAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAClD,SAAK,IAAIC,KAAK,GAAGrC,SAAS,CAAC9B,MAAtB,EAA8BoE,KAAK,GAAG,IAAIpC,KAAJ,CAAUmC,KAAK,GAAG,CAAR,GAAYA,KAAK,GAAG,CAApB,GAAwB,CAAlC,CAAtC,EAA4EE,KAAK,GAAG,CAAzF,EAA4FA,KAAK,GAAGF,KAApG,EAA2GE,KAAK,EAAhH,EAAoH;AAClHD,MAAAA,KAAK,CAACC,KAAK,GAAG,CAAT,CAAL,GAAmBvC,SAAS,CAACuC,KAAD,CAA5B;AACD;;AAED,QAAIzB,MAAM,GAAGwB,KAAK,CAACE,GAAN,CAAU,UAAUvE,CAAV,EAAa;AAClC,UAAIA,CAAC,KAAK,GAAV,EAAe;AACb,eAAO;AACL0D,UAAAA,IAAI,EAAE,OADD;AAELvD,UAAAA,KAAK,EAAEH;AAFF,SAAP;AAID;;AAED,aAAO;AACL0D,QAAAA,IAAI,EAAE,MADD;AAELvD,QAAAA,KAAK,EAAEH;AAFF,OAAP;AAID,KAZY,CAAb;AAaA,WAAO6C,MAAM,CAACR,MAAP,CAAc8B,MAAM,CAACK,KAAP,CAAa,CAAb,CAAd,CAAP;AACD;AACD;AACF;AACA;AAtBE;;AAyBA9B,EAAAA,MAAM,CAAC+B,aAAP,GAAuB,SAASA,aAAT,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;AACvD,QAAIC,GAAG,GAAGC,UAAU,CAACH,GAAD,CAApB;AACA,QAAII,GAAG,GAAGF,GAAG,GAAGD,IAAN,GAAa,GAAvB;AACA,WAAOG,GAAG,GAAG,KAAb;AACD;AACD;AACF;AACA;AAPE;;AAUApC,EAAAA,MAAM,CAACmB,SAAP,GAAmB,SAASA,SAAT,CAAmBb,KAAnB,EAA0B;AAC3C,QAAI,CAACA,KAAK,CAAC,CAAD,CAAV,EAAe,OAAOA,KAAP;;AAEf,QAAI,mBAAmB+B,IAAnB,CAAwB/B,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAjC,CAAJ,EAA6C;AAC3C6C,MAAAA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,GAAiB,KAAKsE,aAAL,CAAmBzB,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAA5B,EAAmC,GAAnC,CAAjB;AACD,KAFD,MAEO,IAAI,kBAAkB4E,IAAlB,CAAuB/B,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAhC,CAAJ,EAA4C;AACjD6C,MAAAA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,GAAiB,KAAKsE,aAAL,CAAmBzB,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAA5B,EAAmC,IAAI6E,IAAI,CAACC,EAA5C,CAAjB;AACD,KAFM,MAEA,IAAI,mBAAmBF,IAAnB,CAAwB/B,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAjC,CAAJ,EAA6C;AAClD6C,MAAAA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,GAAiB,KAAKsE,aAAL,CAAmBzB,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAA5B,EAAmC,CAAnC,CAAjB;AACD,KAFM,MAEA,IAAI6C,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,CAAe+E,OAAf,CAAuB,KAAvB,MAAkC,CAAC,CAAvC,EAA0C;AAC/C,UAAIN,GAAG,GAAGC,UAAU,CAAC7B,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAV,CAApB;AACAyE,MAAAA,GAAG,GAAGnD,KAAK,CAAC0D,IAAN,CAAW,CAAX,EAAc,GAAd,EAAmBP,GAAnB,CAAN;AACA5B,MAAAA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,GAAiByE,GAAG,GAAG,KAAvB;AACD;;AAED,QAAI5B,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,KAAmB,MAAvB,EAA+B;AAC7B6C,MAAAA,KAAK,GAAG,KAAKkB,YAAL,CAAkBlB,KAAlB,EAAyB,IAAzB,EAA+B,GAA/B,EAAoC,KAApC,CAAR;AACD,KAFD,MAEO,IAAIA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,KAAmB,OAAvB,EAAgC;AACrC6C,MAAAA,KAAK,GAAG,KAAKkB,YAAL,CAAkBlB,KAAlB,EAAyB,IAAzB,EAA+B,GAA/B,EAAoC,OAApC,CAAR;AACD,KAFM,MAEA,IAAIA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,KAAmB,QAAvB,EAAiC;AACtC6C,MAAAA,KAAK,GAAG,KAAKkB,YAAL,CAAkBlB,KAAlB,EAAyB,IAAzB,EAA+B,GAA/B,EAAoC,QAApC,CAAR;AACD,KAFM,MAEA,IAAIA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,KAAmB,QAAvB,EAAiC;AACtC6C,MAAAA,KAAK,GAAG,KAAKkB,YAAL,CAAkBlB,KAAlB,EAAyB,IAAzB,EAA+B,GAA/B,EAAoC,MAApC,CAAR;AACD;;AAED,WAAOA,KAAP;AACD;AACD;AACF;AACA;AA7BE;;AAgCAN,EAAAA,MAAM,CAACkB,YAAP,GAAsB,SAASA,YAAT,CAAsBO,MAAtB,EAA8B;AAClD,QAAIA,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAAV,KAAoB,IAAxB,EAA8B;AAC5B,aAAOgE,MAAP;AACD;;AAEDzC,IAAAA,YAAY,CAAC0D,SAAb,GAAyB,CAAzB,CALkD,CAKtB;;AAE5B,QAAI,CAAC1D,YAAY,CAACqD,IAAb,CAAkBZ,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAA5B,CAAL,EAAyC;AACvC,aAAOgE,MAAP;AACD;;AAEDA,IAAAA,MAAM,CAACkB,OAAP,CAAe;AACb3B,MAAAA,IAAI,EAAE,MADO;AAEbvD,MAAAA,KAAK,EAAE;AAFM,KAAf,EAGG;AACDuD,MAAAA,IAAI,EAAE,OADL;AAEDvD,MAAAA,KAAK,EAAE;AAFN,KAHH;;AAQA,SAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,MAAM,CAAClE,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAImE,MAAM,CAACnE,CAAD,CAAN,CAAU0D,IAAV,KAAmB,KAAvB,EAA8B;AAC5B;AACD;;AAED,UAAIS,MAAM,CAACnE,CAAD,CAAN,CAAU0D,IAAV,KAAmB,MAAvB,EAA+B;AAC7BS,QAAAA,MAAM,CAACnE,CAAD,CAAN,CAAUG,KAAV,GAAkB,KAAKmF,eAAL,CAAqBnB,MAAM,CAACnE,CAAD,CAAN,CAAUG,KAA/B,CAAlB;AACD;AACF;;AAED,WAAOgE,MAAP;AACD;AACD;AACF;AACA;AAjCE;;AAoCAzB,EAAAA,MAAM,CAAC6C,QAAP,GAAkB,SAASA,QAAT,CAAkBpB,MAAlB,EAA0B;AAC1C,QAAIqB,KAAK,GAAG,QAAZ;;AAEA,SAAK,IAAIC,UAAU,GAAGtB,MAAjB,EAAyBuB,SAAS,GAAGzD,KAAK,CAACiB,OAAN,CAAcuC,UAAd,CAArC,EAAgEE,GAAG,GAAG,CAAtE,EAAyEF,UAAU,GAAGC,SAAS,GAAGD,UAAH,GAAgBA,UAAU,CAACrC,MAAM,CAACC,QAAR,CAAV,EAApH,IAAqJ;AACnJ,UAAIuC,KAAJ;;AAEA,UAAIF,SAAJ,EAAe;AACb,YAAIC,GAAG,IAAIF,UAAU,CAACxF,MAAtB,EAA8B;AAC9B2F,QAAAA,KAAK,GAAGH,UAAU,CAACE,GAAG,EAAJ,CAAlB;AACD,OAHD,MAGO;AACLA,QAAAA,GAAG,GAAGF,UAAU,CAAClC,IAAX,EAAN;AACA,YAAIoC,GAAG,CAACnC,IAAR,EAAc;AACdoC,QAAAA,KAAK,GAAGD,GAAG,CAACxF,KAAZ;AACD;;AAED,UAAI0F,KAAK,GAAGD,KAAZ;;AAEA,UAAIJ,KAAK,KAAK,QAAV,IAAsBK,KAAK,CAACnC,IAAN,KAAe,OAAzC,EAAkD;AAChD8B,QAAAA,KAAK,GAAG,IAAR;AACD,OAFD,MAEO,IAAIA,KAAK,KAAK,IAAV,IAAkBK,KAAK,CAAC1F,KAAN,KAAgB,IAAtC,EAA4C;AACjDqF,QAAAA,KAAK,GAAG,OAAR;AACD,OAFM,MAEA,IAAIA,KAAK,KAAK,OAAV,IAAqBK,KAAK,CAACnC,IAAN,KAAe,OAAxC,EAAiD;AACtD,eAAO,IAAP;AACD,OAFM,MAEA,IAAImC,KAAK,CAACnC,IAAN,KAAe,KAAnB,EAA0B;AAC/B;AACD,OAFM,MAEA;AACL8B,QAAAA,KAAK,GAAG,QAAR;AACD;AACF;;AAED,WAAO,KAAP;AACD;AACD;AACF;AACA;AAlCE;;AAqCA9C,EAAAA,MAAM,CAACsB,gBAAP,GAA0B,SAASA,gBAAT,CAA0BG,MAA1B,EAAkC;AAC1D,QAAIA,MAAM,CAAClE,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAIkE,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAAV,KAAoB,IAAxB,EAA8B;AAC5B,aAAK2F,YAAL,CAAkB3B,MAAlB;AACD,OAFD,MAEO,IAAIA,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAAV,CAAgB+E,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAAxC,EAA2C;AAChD,aAAKa,QAAL,CAAc5B,MAAd;AACD,OAFM,MAEA,IAAI,KAAKoB,QAAL,CAAcpB,MAAd,CAAJ,EAA2B;AAChC,aAAK6B,SAAL,CAAe7B,MAAf;AACD;AACF;;AAED,WAAOA,MAAP;AACD;AACD;AACF;AACA;AAfE;;AAkBAzB,EAAAA,MAAM,CAACoD,YAAP,GAAsB,SAASA,YAAT,CAAsB3B,MAAtB,EAA8B;AAClDA,IAAAA,MAAM,CAAC8B,MAAP,CAAc,CAAd,EAAiB,CAAjB;;AAEA,SAAK,IAAIC,UAAU,GAAG/B,MAAjB,EAAyBgC,SAAS,GAAGlE,KAAK,CAACiB,OAAN,CAAcgD,UAAd,CAArC,EAAgEE,GAAG,GAAG,CAAtE,EAAyEF,UAAU,GAAGC,SAAS,GAAGD,UAAH,GAAgBA,UAAU,CAAC9C,MAAM,CAACC,QAAR,CAAV,EAApH,IAAqJ;AACnJ,UAAIgD,KAAJ;;AAEA,UAAIF,SAAJ,EAAe;AACb,YAAIC,GAAG,IAAIF,UAAU,CAACjG,MAAtB,EAA8B;AAC9BoG,QAAAA,KAAK,GAAGH,UAAU,CAACE,GAAG,EAAJ,CAAlB;AACD,OAHD,MAGO;AACLA,QAAAA,GAAG,GAAGF,UAAU,CAAC3C,IAAX,EAAN;AACA,YAAI6C,GAAG,CAAC5C,IAAR,EAAc;AACd6C,QAAAA,KAAK,GAAGD,GAAG,CAACjG,KAAZ;AACD;;AAED,UAAI0F,KAAK,GAAGQ,KAAZ;;AAEA,UAAIR,KAAK,CAACnC,IAAN,KAAe,KAAnB,EAA0B;AACxB;AACD;;AAED,UAAImC,KAAK,CAACnC,IAAN,KAAe,MAAnB,EAA2B;AACzBmC,QAAAA,KAAK,CAAC1F,KAAN,GAAc,KAAKmF,eAAL,CAAqBO,KAAK,CAAC1F,KAA3B,CAAd;AACD;AACF;AACF;AACD;AACF;AACA;AA5BE;;AA+BAuC,EAAAA,MAAM,CAACqD,QAAP,GAAkB,SAASA,QAAT,CAAkB5B,MAAlB,EAA0B;AAC1C,QAAImC,KAAK,GAAGnC,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAAtB;AACAmG,IAAAA,KAAK,GAAGzB,UAAU,CAACyB,KAAD,CAAlB;AACAA,IAAAA,KAAK,GAAGtB,IAAI,CAACuB,GAAL,CAAS,MAAMD,KAAf,IAAwB,GAAhC;AACAA,IAAAA,KAAK,GAAG,KAAKE,UAAL,CAAgBF,KAAhB,EAAuB,CAAvB,CAAR;AACAnC,IAAAA,MAAM,CAAC,CAAD,CAAN,CAAUhE,KAAV,GAAkBmG,KAAK,GAAG,KAA1B;AACD;AACD;AACF;AACA;AATE;;AAYA5D,EAAAA,MAAM,CAACsD,SAAP,GAAmB,SAASA,SAAT,CAAmB7B,MAAnB,EAA2B;AAC5C,QAAImC,KAAK,GAAG,EAAZ;AACA,QAAIG,MAAM,GAAG,EAAb;AACA,QAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAa5G,CAAb,EAAgBuD,IAAhB;;AAEA,SAAKvD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGmE,MAAM,CAAClE,MAAP,GAAgB,CAAhC,EAAmCD,CAAC,EAApC,EAAwC;AACtC0G,MAAAA,CAAC,GAAGvC,MAAM,CAACnE,CAAD,CAAV;AACA2G,MAAAA,CAAC,GAAGxC,MAAM,CAACnE,CAAC,GAAG,CAAL,CAAV;AACA4G,MAAAA,CAAC,GAAGzC,MAAM,CAACnE,CAAC,GAAG,CAAL,CAAV;;AAEA,UAAI0G,CAAC,CAAChD,IAAF,KAAW,OAAX,IAAsBiD,CAAC,CAACxG,KAAF,KAAY,IAAlC,IAA0CyG,CAAC,CAAClD,IAAF,KAAW,OAAzD,EAAkE;AAChEH,QAAAA,IAAI,GAAGvD,CAAC,GAAG,CAAX;AACA;AACD,OAHD,MAGO;AACLsG,QAAAA,KAAK,CAACO,IAAN,CAAWH,CAAX;AACD;AACF;;AAED,QAAII,GAAJ;;AAEA,SAAK9G,CAAC,GAAGuD,IAAT,EAAevD,CAAC,GAAGmE,MAAM,CAAClE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,UAAImE,MAAM,CAACnE,CAAD,CAAN,CAAU0D,IAAV,KAAmB,KAAvB,EAA8B;AAC5BoD,QAAAA,GAAG,GAAG3C,MAAM,CAACnE,CAAD,CAAZ;AACA;AACD,OAHD,MAGO;AACLyG,QAAAA,MAAM,CAACI,IAAP,CAAY1C,MAAM,CAACnE,CAAD,CAAlB;AACD;AACF;;AAEDmE,IAAAA,MAAM,CAAC8B,MAAP,CAAc7D,KAAd,CAAoB+B,MAApB,EAA4B,CAAC,CAAD,EAAInE,CAAJ,EAAOqC,MAAP,CAAcoE,MAAd,EAAsB,CAACK,GAAD,CAAtB,EAA6BR,KAA7B,CAA5B;AACD,GA9BD;;AAgCA5D,EAAAA,MAAM,CAAC4C,eAAP,GAAyB,SAASA,eAAT,CAAyByB,IAAzB,EAA+B;AACtD,WAAO,KAAKC,UAAL,CAAgBD,IAAI,CAACE,WAAL,EAAhB,KAAuCF,IAA9C;AACD;AACD;AACF;AACA;AALE;;AAQArE,EAAAA,MAAM,CAAC8D,UAAP,GAAoB,SAASA,UAAT,CAAoBU,KAApB,EAA2BC,MAA3B,EAAmC;AACrD,WAAOtC,UAAU,CAACqC,KAAK,CAACE,OAAN,CAAcD,MAAd,CAAD,CAAjB;AACD;AACD;AACF;AACA;AALE;;AAQAzE,EAAAA,MAAM,CAACqB,SAAP,GAAmB,SAASA,SAAT,CAAmBN,IAAnB,EAAyB;AAC1C,QAAIT,KAAK,GAAGS,IAAI,CAACT,KAAjB;AACA,QAAIJ,MAAM,GAAGpB,MAAM,CAAC6F,SAAP,CAAiB5D,IAAI,CAACT,KAAtB,CAAb;;AAEA,QAAI,KAAKW,IAAL,KAAc,iBAAlB,EAAqC;AACnC,aAAO,KAAP;AACD;;AAED,QAAIX,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,CAAS7C,KAAT,CAAe+E,OAAf,CAAuB,KAAvB,MAAkC,CAAC,CAAnD,EAAsD;AACpD,aAAO,KAAP;AACD;;AAED,QAAItC,MAAM,CAACsC,OAAP,CAAe,IAAf,MAAyB,CAAC,CAA1B,IAA+BtC,MAAM,CAACsC,OAAP,CAAe,SAAf,MAA8B,CAAC,CAA9D,IAAmEtC,MAAM,CAACsC,OAAP,CAAe,OAAf,MAA4B,CAAC,CAApG,EAAuG;AACrG,aAAO,KAAP;AACD;;AAED,QAAIf,MAAM,GAAG,CAAC,EAAD,CAAb;;AAEA,SAAK,IAAImD,UAAU,GAAGtE,KAAjB,EAAwBuE,SAAS,GAAGtF,KAAK,CAACiB,OAAN,CAAcoE,UAAd,CAApC,EAA+DE,GAAG,GAAG,CAArE,EAAwEF,UAAU,GAAGC,SAAS,GAAGD,UAAH,GAAgBA,UAAU,CAAClE,MAAM,CAACC,QAAR,CAAV,EAAnH,IAAoJ;AAClJ,UAAIoE,KAAJ;;AAEA,UAAIF,SAAJ,EAAe;AACb,YAAIC,GAAG,IAAIF,UAAU,CAACrH,MAAtB,EAA8B;AAC9BwH,QAAAA,KAAK,GAAGH,UAAU,CAACE,GAAG,EAAJ,CAAlB;AACD,OAHD,MAGO;AACLA,QAAAA,GAAG,GAAGF,UAAU,CAAC/D,IAAX,EAAN;AACA,YAAIiE,GAAG,CAAChE,IAAR,EAAc;AACdiE,QAAAA,KAAK,GAAGD,GAAG,CAACrH,KAAZ;AACD;;AAED,UAAIH,CAAC,GAAGyH,KAAR;AACAtD,MAAAA,MAAM,CAACA,MAAM,CAAClE,MAAP,GAAgB,CAAjB,CAAN,CAA0B4G,IAA1B,CAA+B7G,CAA/B;;AAEA,UAAIA,CAAC,CAAC0D,IAAF,KAAW,KAAX,IAAoB1D,CAAC,CAACG,KAAF,KAAY,GAApC,EAAyC;AACvCgE,QAAAA,MAAM,CAAC0C,IAAP,CAAY,EAAZ;AACD;AACF;;AAED,SAAKa,YAAL,CAAkBvD,MAAlB;AACA,SAAKwD,UAAL,CAAgBxD,MAAhB;AACAV,IAAAA,IAAI,CAACT,KAAL,GAAa,EAAb;;AAEA,SAAK,IAAI4E,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGzD,MAAM,CAAClE,MAA/B,EAAuC2H,GAAG,EAA1C,EAA8C;AAC5C,UAAI/B,KAAK,GAAG1B,MAAM,CAACyD,GAAD,CAAlB;AACAnE,MAAAA,IAAI,CAACT,KAAL,GAAaS,IAAI,CAACT,KAAL,CAAWX,MAAX,CAAkBwD,KAAlB,CAAb;AACD;;AAEDpC,IAAAA,IAAI,CAACT,KAAL,CAAWqC,OAAX,CAAmB;AACjB3B,MAAAA,IAAI,EAAE,MADW;AAEjBvD,MAAAA,KAAK,EAAE;AAFU,KAAnB,EAGG,KAAK0H,QAAL,CAAcpE,IAAI,CAACT,KAAnB,CAHH;AAIAS,IAAAA,IAAI,CAACtD,KAAL,GAAa,kBAAb;AACA,WAAO,IAAP;AACD;AACD;AACF;AACA;AAxDE;;AA2DAuC,EAAAA,MAAM,CAACgF,YAAP,GAAsB,SAASA,YAAT,CAAsBvD,MAAtB,EAA8B;AAClD,QAAI2C,GAAG,GAAG,KAAKe,QAAL,CAAc1D,MAAM,CAAC,CAAD,CAApB,CAAV;;AAEA,QAAIA,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,EAAahE,KAAb,KAAuB,IAA3B,EAAiC;AAC/B,aAAOgE,MAAM,CAACkB,OAAP,CAAe,CAAC;AACrB3B,QAAAA,IAAI,EAAE,MADe;AAErBvD,QAAAA,KAAK,EAAE,KAAK2H,aAAL,CAAmBtF;AAFL,OAAD,EAGnBsE,GAHmB,CAAf,CAAP;AAID,KALD,MAKO;AACL,UAAIzC,KAAK,GAAG,EAAZ;;AAEA,WAAK,IAAI0D,UAAU,GAAG5D,MAAM,CAAC,CAAD,CAAN,CAAUK,KAAV,CAAgB,CAAhB,CAAjB,EAAqCwD,SAAS,GAAG/F,KAAK,CAACiB,OAAN,CAAc6E,UAAd,CAAjD,EAA4EE,GAAG,GAAG,CAAlF,EAAqFF,UAAU,GAAGC,SAAS,GAAGD,UAAH,GAAgBA,UAAU,CAAC3E,MAAM,CAACC,QAAR,CAAV,EAAhI,IAAiK;AAC/J,YAAI6E,KAAJ;;AAEA,YAAIF,SAAJ,EAAe;AACb,cAAIC,GAAG,IAAIF,UAAU,CAAC9H,MAAtB,EAA8B;AAC9BiI,UAAAA,KAAK,GAAGH,UAAU,CAACE,GAAG,EAAJ,CAAlB;AACD,SAHD,MAGO;AACLA,UAAAA,GAAG,GAAGF,UAAU,CAACxE,IAAX,EAAN;AACA,cAAI0E,GAAG,CAACzE,IAAR,EAAc;AACd0E,UAAAA,KAAK,GAAGD,GAAG,CAAC9H,KAAZ;AACD;;AAED,YAAIsD,IAAI,GAAGyE,KAAX;;AAEA,YAAIzE,IAAI,CAACC,IAAL,KAAc,MAAlB,EAA0B;AACxBW,UAAAA,KAAK,CAACwC,IAAN,CAAWpD,IAAI,CAACtD,KAAL,CAAW8G,WAAX,EAAX;AACD;AACF;;AAED5C,MAAAA,KAAK,GAAGA,KAAK,CAAC8D,IAAN,CAAW,GAAX,CAAR;AACA,UAAIC,GAAG,GAAG,KAAKN,aAAL,CAAmBzD,KAAnB,KAA6BA,KAAvC;AACAF,MAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC;AACXT,QAAAA,IAAI,EAAE,MADK;AAEXvD,QAAAA,KAAK,EAAEiI;AAFI,OAAD,EAGTtB,GAHS,CAAZ;AAIA,aAAO3C,MAAM,CAAC,CAAD,CAAb;AACD;AACF;AACD;AACF;AACA;AAzCE;;AA4CAzB,EAAAA,MAAM,CAACmF,QAAP,GAAkB,SAASA,QAAT,CAAkB1D,MAAlB,EAA0B;AAC1C,SAAK,IAAIkE,UAAU,GAAGlE,MAAjB,EAAyBmE,SAAS,GAAGrG,KAAK,CAACiB,OAAN,CAAcmF,UAAd,CAArC,EAAgEE,GAAG,GAAG,CAAtE,EAAyEF,UAAU,GAAGC,SAAS,GAAGD,UAAH,GAAgBA,UAAU,CAACjF,MAAM,CAACC,QAAR,CAAV,EAApH,IAAqJ;AACnJ,UAAImF,KAAJ;;AAEA,UAAIF,SAAJ,EAAe;AACb,YAAIC,GAAG,IAAIF,UAAU,CAACpI,MAAtB,EAA8B;AAC9BuI,QAAAA,KAAK,GAAGH,UAAU,CAACE,GAAG,EAAJ,CAAlB;AACD,OAHD,MAGO;AACLA,QAAAA,GAAG,GAAGF,UAAU,CAAC9E,IAAX,EAAN;AACA,YAAIgF,GAAG,CAAC/E,IAAR,EAAc;AACdgF,QAAAA,KAAK,GAAGD,GAAG,CAACpI,KAAZ;AACD;;AAED,UAAIH,CAAC,GAAGwI,KAAR;;AAEA,UAAIxI,CAAC,CAAC0D,IAAF,KAAW,KAAX,IAAoB1D,CAAC,CAACG,KAAF,KAAY,GAApC,EAAyC;AACvC,eAAOH,CAAP;AACD;AACF;;AAED,WAAO;AACL0D,MAAAA,IAAI,EAAE,KADD;AAELvD,MAAAA,KAAK,EAAE,GAFF;AAGLsI,MAAAA,KAAK,EAAE;AAHF,KAAP;AAKD;AACD;AACF;AACA;AA5BE;;AA+BA/F,EAAAA,MAAM,CAACiF,UAAP,GAAoB,SAASA,UAAT,CAAoBxD,MAApB,EAA4B;AAC9C,QAAIuE,MAAM,GAAG,EAAb;;AAEA,SAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,MAAM,CAAClE,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAI2I,GAAG,GAAG,KAAK,CAAf;AACA,UAAI9C,KAAK,GAAG1B,MAAM,CAACnE,CAAD,CAAlB;AACA,UAAI4I,IAAI,GAAG,KAAK,CAAhB;;AAEA,UAAI5I,CAAC,KAAK,CAAV,EAAa;AACX;AACD;;AAED,UAAI6I,KAAK,GAAGrH,MAAM,CAAC6F,SAAP,CAAiBxB,KAAK,CAAC,CAAD,CAAtB,CAAZ;;AAEA,UAAIA,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,CAASnC,IAAT,KAAkB,MAAlC,EAA0C;AACxCiF,QAAAA,GAAG,GAAG9C,KAAK,CAAC,CAAD,CAAL,CAAS1F,KAAf;AACD,OAFD,MAEO,IAAI0F,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAL,CAASnC,IAAT,KAAkB,MAAlC,EAA0C;AAC/CiF,QAAAA,GAAG,GAAG9C,KAAK,CAAC,CAAD,CAAL,CAAS1F,KAAf;AACD;;AAED,UAAI2I,IAAI,GAAG,KAAK,CAAhB;;AAEA,UAAI9I,CAAC,KAAK,CAAN,KAAY,CAAC2I,GAAD,IAAQA,GAAG,KAAK,IAA5B,CAAJ,EAAuC;AACrCG,QAAAA,IAAI,GAAG,UAAUD,KAAV,GAAkB,GAAzB;AACD,OAFD,MAEO,IAAI7I,CAAC,KAAKmE,MAAM,CAAClE,MAAP,GAAgB,CAAtB,KAA4B,CAAC0I,GAAD,IAAQA,GAAG,KAAK,MAA5C,CAAJ,EAAyD;AAC9DG,QAAAA,IAAI,GAAG,QAAQD,KAAR,GAAgB,GAAvB;AACD,OAFM,MAEA,IAAIF,GAAJ,EAAS;AACdG,QAAAA,IAAI,GAAG,gBAAgBH,GAAhB,GAAsB,IAAtB,GAA6BE,KAA7B,GAAqC,GAA5C;AACD,OAFM,MAEA;AACLC,QAAAA,IAAI,GAAG,gBAAgBD,KAAhB,GAAwB,GAA/B;AACD;;AAED,UAAI/B,GAAG,GAAGjB,KAAK,CAACA,KAAK,CAAC5F,MAAN,GAAe,CAAhB,CAAf;AACAkE,MAAAA,MAAM,CAACnE,CAAD,CAAN,GAAY,CAAC;AACX0D,QAAAA,IAAI,EAAE,MADK;AAEXvD,QAAAA,KAAK,EAAE2I;AAFI,OAAD,CAAZ;;AAKA,UAAIhC,GAAG,CAACpD,IAAJ,KAAa,KAAb,IAAsBoD,GAAG,CAAC3G,KAAJ,KAAc,GAAxC,EAA6C;AAC3CyI,QAAAA,IAAI,GAAGzE,MAAM,CAACnE,CAAD,CAAN,CAAU6G,IAAV,CAAeC,GAAf,CAAP;AACD;;AAED4B,MAAAA,MAAM,CAAC7B,IAAP,CAAY+B,IAAZ;AACD;;AAED,WAAOF,MAAP;AACD;AACD;AACF;AACA;AAjDE;;AAoDAhG,EAAAA,MAAM,CAAC0F,GAAP,GAAa,SAASA,GAAT,CAAavF,MAAb,EAAqB;AAChC,QAAIA,MAAM,KAAK,UAAf,EAA2B;AACzB,UAAIa,IAAI,GAAG,KAAKC,IAAL,KAAc,iBAAd,GAAkC,QAAlC,GAA6C,QAAxD;AACA,UAAIf,MAAM,GAAG,WAAb;AACA,UAAImG,MAAM,GAAGxH,KAAK,CAACwH,MAAN,CAAa,cAAcrF,IAAd,GAAqB,2BAArB,GAAmDA,IAAnD,GAA0D,GAAvE,EAA4E,KAA5E,CAAb;AACA,aAAO,IAAItC,QAAJ,CAAa,KAAKuC,IAAlB,EAAwBd,MAAM,GAAG,KAAKc,IAAtC,EAA4Cf,MAA5C,EAAoDmG,MAApD,CAAP;AACD,KALD,MAKO;AACL,aAAOnH,MAAM,CAACd,SAAP,CAAiBsH,GAAjB,CAAqBjG,IAArB,CAA0B,IAA1B,EAAgCU,MAAhC,CAAP;AACD;AACF;AACD;AACF;AACA;AAZE;;AAeAH,EAAAA,MAAM,CAACsG,GAAP,GAAa,SAASA,GAAT,CAAaC,IAAb,EAAmBpG,MAAnB,EAA2B;AACtC,QAAIqG,CAAC,GAAGD,IAAI,CAACE,IAAb;;AAEA,QAAID,CAAC,CAAChE,OAAF,CAAU,MAAV,MAAsB,CAAC,CAA3B,EAA8B;AAC5B,UAAIrC,MAAM,KAAK,UAAX,IAAyBA,MAAM,KAAK,cAAxC,EAAwD;AACtD,eAAOjB,MAAM,CAACd,SAAP,CAAiBkI,GAAjB,CAAqB7G,IAArB,CAA0B,IAA1B,EAAgC8G,IAAhC,EAAsCpG,MAAtC,CAAP;AACD;AACF,KAJD,MAIO,IAAIqG,CAAC,KAAK,YAAN,IAAsBA,CAAC,KAAK,kBAA5B,IAAkDA,CAAC,KAAK,SAA5D,EAAuE;AAC5E,UAAIrG,MAAM,KAAK,UAAX,IAAyBA,MAAM,KAAK,cAAxC,EAAwD;AACtD,eAAOjB,MAAM,CAACd,SAAP,CAAiBkI,GAAjB,CAAqB7G,IAArB,CAA0B,IAA1B,EAAgC8G,IAAhC,EAAsCpG,MAAtC,CAAP;AACD;AACF,KAJM,MAIA;AACL,aAAOjB,MAAM,CAACd,SAAP,CAAiBkI,GAAjB,CAAqB7G,IAArB,CAA0B,IAA1B,EAAgC8G,IAAhC,EAAsCpG,MAAtC,CAAP;AACD;;AAED,WAAOvC,SAAP;AACD,GAhBD;;AAkBA,SAAOqB,QAAP;AACD,CA1iBD,CA0iBEL,KA1iBF,CAFA;;AA8iBAL,eAAe,CAACU,QAAD,EAAW,OAAX,EAAoB,CAAC,iBAAD,EAAoB,2BAApB,EAAiD,iBAAjD,EAAoE,2BAApE,CAApB,CAAf;;AAEAyH,MAAM,CAACC,OAAP,GAAiB1H,QAAjB","sourcesContent":["\"use strict\";\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _defaults(subClass, superClass); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar OldValue = require('../old-value');\n\nvar Value = require('../value');\n\nvar utils = require('../utils');\n\nvar parser = require('postcss-value-parser');\n\nvar range = require('normalize-range');\n\nvar IS_DIRECTION = /top|left|right|bottom/gi;\n\nvar Gradient =\n/*#__PURE__*/\nfunction (_Value) {\n  _inheritsLoose(Gradient, _Value);\n\n  function Gradient() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Value.call.apply(_Value, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"directions\", {\n      top: 'bottom',\n      left: 'right',\n      bottom: 'top',\n      right: 'left' // Direction to replace\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"oldDirections\", {\n      'top': 'left bottom, left top',\n      'left': 'right top, left top',\n      'bottom': 'left top, left bottom',\n      'right': 'left top, right top',\n      'top right': 'left bottom, right top',\n      'top left': 'right bottom, left top',\n      'right top': 'left bottom, right top',\n      'right bottom': 'left top, right bottom',\n      'bottom right': 'left top, right bottom',\n      'bottom left': 'right top, left bottom',\n      'left top': 'right bottom, left top',\n      'left bottom': 'right top, left bottom'\n      /**\n       * Change degrees for webkit prefix\n       */\n\n    });\n\n    return _this;\n  }\n\n  var _proto = Gradient.prototype;\n\n  _proto.replace = function replace(string, prefix) {\n    var ast = parser(string);\n\n    for (var _iterator = ast.nodes, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (node.type === 'function' && node.value === this.name) {\n        node.nodes = this.newDirection(node.nodes);\n        node.nodes = this.normalize(node.nodes);\n\n        if (prefix === '-webkit- old') {\n          var changes = this.oldWebkit(node);\n\n          if (!changes) {\n            return false;\n          }\n        } else {\n          node.nodes = this.convertDirection(node.nodes);\n          node.value = prefix + node.value;\n        }\n      }\n    }\n\n    return ast.toString();\n  }\n  /**\n   * Replace first token\n   */\n  ;\n\n  _proto.replaceFirst = function replaceFirst(params) {\n    for (var _len2 = arguments.length, words = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      words[_key2 - 1] = arguments[_key2];\n    }\n\n    var prefix = words.map(function (i) {\n      if (i === ' ') {\n        return {\n          type: 'space',\n          value: i\n        };\n      }\n\n      return {\n        type: 'word',\n        value: i\n      };\n    });\n    return prefix.concat(params.slice(1));\n  }\n  /**\n   * Convert angle unit to deg\n   */\n  ;\n\n  _proto.normalizeUnit = function normalizeUnit(str, full) {\n    var num = parseFloat(str);\n    var deg = num / full * 360;\n    return deg + \"deg\";\n  }\n  /**\n   * Normalize angle\n   */\n  ;\n\n  _proto.normalize = function normalize(nodes) {\n    if (!nodes[0]) return nodes;\n\n    if (/-?\\d+(.\\d+)?grad/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 400);\n    } else if (/-?\\d+(.\\d+)?rad/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 2 * Math.PI);\n    } else if (/-?\\d+(.\\d+)?turn/.test(nodes[0].value)) {\n      nodes[0].value = this.normalizeUnit(nodes[0].value, 1);\n    } else if (nodes[0].value.indexOf('deg') !== -1) {\n      var num = parseFloat(nodes[0].value);\n      num = range.wrap(0, 360, num);\n      nodes[0].value = num + \"deg\";\n    }\n\n    if (nodes[0].value === '0deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'top');\n    } else if (nodes[0].value === '90deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'right');\n    } else if (nodes[0].value === '180deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'bottom');\n    } else if (nodes[0].value === '270deg') {\n      nodes = this.replaceFirst(nodes, 'to', ' ', 'left');\n    }\n\n    return nodes;\n  }\n  /**\n   * Replace old direction to new\n   */\n  ;\n\n  _proto.newDirection = function newDirection(params) {\n    if (params[0].value === 'to') {\n      return params;\n    }\n\n    IS_DIRECTION.lastIndex = 0; // reset search index of global regexp\n\n    if (!IS_DIRECTION.test(params[0].value)) {\n      return params;\n    }\n\n    params.unshift({\n      type: 'word',\n      value: 'to'\n    }, {\n      type: 'space',\n      value: ' '\n    });\n\n    for (var i = 2; i < params.length; i++) {\n      if (params[i].type === 'div') {\n        break;\n      }\n\n      if (params[i].type === 'word') {\n        params[i].value = this.revertDirection(params[i].value);\n      }\n    }\n\n    return params;\n  }\n  /**\n   * Look for at word\n   */\n  ;\n\n  _proto.isRadial = function isRadial(params) {\n    var state = 'before';\n\n    for (var _iterator2 = params, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var param = _ref2;\n\n      if (state === 'before' && param.type === 'space') {\n        state = 'at';\n      } else if (state === 'at' && param.value === 'at') {\n        state = 'after';\n      } else if (state === 'after' && param.type === 'space') {\n        return true;\n      } else if (param.type === 'div') {\n        break;\n      } else {\n        state = 'before';\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Change new direction to old\n   */\n  ;\n\n  _proto.convertDirection = function convertDirection(params) {\n    if (params.length > 0) {\n      if (params[0].value === 'to') {\n        this.fixDirection(params);\n      } else if (params[0].value.indexOf('deg') !== -1) {\n        this.fixAngle(params);\n      } else if (this.isRadial(params)) {\n        this.fixRadial(params);\n      }\n    }\n\n    return params;\n  }\n  /**\n   * Replace `to top left` to `bottom right`\n   */\n  ;\n\n  _proto.fixDirection = function fixDirection(params) {\n    params.splice(0, 2);\n\n    for (var _iterator3 = params, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var param = _ref3;\n\n      if (param.type === 'div') {\n        break;\n      }\n\n      if (param.type === 'word') {\n        param.value = this.revertDirection(param.value);\n      }\n    }\n  }\n  /**\n   * Add 90 degrees\n   */\n  ;\n\n  _proto.fixAngle = function fixAngle(params) {\n    var first = params[0].value;\n    first = parseFloat(first);\n    first = Math.abs(450 - first) % 360;\n    first = this.roundFloat(first, 3);\n    params[0].value = first + \"deg\";\n  }\n  /**\n   * Fix radial direction syntax\n   */\n  ;\n\n  _proto.fixRadial = function fixRadial(params) {\n    var first = [];\n    var second = [];\n    var a, b, c, i, next;\n\n    for (i = 0; i < params.length - 2; i++) {\n      a = params[i];\n      b = params[i + 1];\n      c = params[i + 2];\n\n      if (a.type === 'space' && b.value === 'at' && c.type === 'space') {\n        next = i + 3;\n        break;\n      } else {\n        first.push(a);\n      }\n    }\n\n    var div;\n\n    for (i = next; i < params.length; i++) {\n      if (params[i].type === 'div') {\n        div = params[i];\n        break;\n      } else {\n        second.push(params[i]);\n      }\n    }\n\n    params.splice.apply(params, [0, i].concat(second, [div], first));\n  };\n\n  _proto.revertDirection = function revertDirection(word) {\n    return this.directions[word.toLowerCase()] || word;\n  }\n  /**\n   * Round float and save digits under dot\n   */\n  ;\n\n  _proto.roundFloat = function roundFloat(float, digits) {\n    return parseFloat(float.toFixed(digits));\n  }\n  /**\n   * Convert to old webkit syntax\n   */\n  ;\n\n  _proto.oldWebkit = function oldWebkit(node) {\n    var nodes = node.nodes;\n    var string = parser.stringify(node.nodes);\n\n    if (this.name !== 'linear-gradient') {\n      return false;\n    }\n\n    if (nodes[0] && nodes[0].value.indexOf('deg') !== -1) {\n      return false;\n    }\n\n    if (string.indexOf('px') !== -1 || string.indexOf('-corner') !== -1 || string.indexOf('-side') !== -1) {\n      return false;\n    }\n\n    var params = [[]];\n\n    for (var _iterator4 = nodes, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var i = _ref4;\n      params[params.length - 1].push(i);\n\n      if (i.type === 'div' && i.value === ',') {\n        params.push([]);\n      }\n    }\n\n    this.oldDirection(params);\n    this.colorStops(params);\n    node.nodes = [];\n\n    for (var _i5 = 0; _i5 < params.length; _i5++) {\n      var param = params[_i5];\n      node.nodes = node.nodes.concat(param);\n    }\n\n    node.nodes.unshift({\n      type: 'word',\n      value: 'linear'\n    }, this.cloneDiv(node.nodes));\n    node.value = '-webkit-gradient';\n    return true;\n  }\n  /**\n   * Change direction syntax to old webkit\n   */\n  ;\n\n  _proto.oldDirection = function oldDirection(params) {\n    var div = this.cloneDiv(params[0]);\n\n    if (params[0][0].value !== 'to') {\n      return params.unshift([{\n        type: 'word',\n        value: this.oldDirections.bottom\n      }, div]);\n    } else {\n      var words = [];\n\n      for (var _iterator5 = params[0].slice(2), _isArray5 = Array.isArray(_iterator5), _i6 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n        var _ref5;\n\n        if (_isArray5) {\n          if (_i6 >= _iterator5.length) break;\n          _ref5 = _iterator5[_i6++];\n        } else {\n          _i6 = _iterator5.next();\n          if (_i6.done) break;\n          _ref5 = _i6.value;\n        }\n\n        var node = _ref5;\n\n        if (node.type === 'word') {\n          words.push(node.value.toLowerCase());\n        }\n      }\n\n      words = words.join(' ');\n      var old = this.oldDirections[words] || words;\n      params[0] = [{\n        type: 'word',\n        value: old\n      }, div];\n      return params[0];\n    }\n  }\n  /**\n   * Get div token from exists parameters\n   */\n  ;\n\n  _proto.cloneDiv = function cloneDiv(params) {\n    for (var _iterator6 = params, _isArray6 = Array.isArray(_iterator6), _i7 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n      var _ref6;\n\n      if (_isArray6) {\n        if (_i7 >= _iterator6.length) break;\n        _ref6 = _iterator6[_i7++];\n      } else {\n        _i7 = _iterator6.next();\n        if (_i7.done) break;\n        _ref6 = _i7.value;\n      }\n\n      var i = _ref6;\n\n      if (i.type === 'div' && i.value === ',') {\n        return i;\n      }\n    }\n\n    return {\n      type: 'div',\n      value: ',',\n      after: ' '\n    };\n  }\n  /**\n   * Change colors syntax to old webkit\n   */\n  ;\n\n  _proto.colorStops = function colorStops(params) {\n    var result = [];\n\n    for (var i = 0; i < params.length; i++) {\n      var pos = void 0;\n      var param = params[i];\n      var item = void 0;\n\n      if (i === 0) {\n        continue;\n      }\n\n      var color = parser.stringify(param[0]);\n\n      if (param[1] && param[1].type === 'word') {\n        pos = param[1].value;\n      } else if (param[2] && param[2].type === 'word') {\n        pos = param[2].value;\n      }\n\n      var stop = void 0;\n\n      if (i === 1 && (!pos || pos === '0%')) {\n        stop = \"from(\" + color + \")\";\n      } else if (i === params.length - 1 && (!pos || pos === '100%')) {\n        stop = \"to(\" + color + \")\";\n      } else if (pos) {\n        stop = \"color-stop(\" + pos + \", \" + color + \")\";\n      } else {\n        stop = \"color-stop(\" + color + \")\";\n      }\n\n      var div = param[param.length - 1];\n      params[i] = [{\n        type: 'word',\n        value: stop\n      }];\n\n      if (div.type === 'div' && div.value === ',') {\n        item = params[i].push(div);\n      }\n\n      result.push(item);\n    }\n\n    return result;\n  }\n  /**\n   * Remove old WebKit gradient too\n   */\n  ;\n\n  _proto.old = function old(prefix) {\n    if (prefix === '-webkit-') {\n      var type = this.name === 'linear-gradient' ? 'linear' : 'radial';\n      var string = '-gradient';\n      var regexp = utils.regexp(\"-webkit-(\" + type + \"-gradient|gradient\\\\(\\\\s*\" + type + \")\", false);\n      return new OldValue(this.name, prefix + this.name, string, regexp);\n    } else {\n      return _Value.prototype.old.call(this, prefix);\n    }\n  }\n  /**\n   * Do not add non-webkit prefixes for list-style and object\n   */\n  ;\n\n  _proto.add = function add(decl, prefix) {\n    var p = decl.prop;\n\n    if (p.indexOf('mask') !== -1) {\n      if (prefix === '-webkit-' || prefix === '-webkit- old') {\n        return _Value.prototype.add.call(this, decl, prefix);\n      }\n    } else if (p === 'list-style' || p === 'list-style-image' || p === 'content') {\n      if (prefix === '-webkit-' || prefix === '-webkit- old') {\n        return _Value.prototype.add.call(this, decl, prefix);\n      }\n    } else {\n      return _Value.prototype.add.call(this, decl, prefix);\n    }\n\n    return undefined;\n  };\n\n  return Gradient;\n}(Value);\n\n_defineProperty(Gradient, \"names\", ['linear-gradient', 'repeating-linear-gradient', 'radial-gradient', 'repeating-radial-gradient']);\n\nmodule.exports = Gradient;"]},"metadata":{},"sourceType":"script"}