{"ast":null,"code":"'use strict';\n\nvar utils = require('./utils');\n\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n  brackets: function brackets(prefix) {\n    // eslint-disable-line func-name-matching\n    return prefix + '[]';\n  },\n  indices: function indices(prefix, key) {\n    // eslint-disable-line func-name-matching\n    return prefix + '[' + key + ']';\n  },\n  repeat: function repeat(prefix) {\n    // eslint-disable-line func-name-matching\n    return prefix;\n  }\n};\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\n\nvar pushToArray = function pushToArray(arr, valueOrArray) {\n  push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\nvar defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  charset: 'utf-8',\n  charsetSentinel: false,\n  delimiter: '&',\n  encode: true,\n  encoder: utils.encode,\n  encodeValuesOnly: false,\n  // deprecated\n  indices: false,\n  serializeDate: function serializeDate(date) {\n    // eslint-disable-line func-name-matching\n    return toISO.call(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\nobject, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset) {\n  var obj = object;\n\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate(obj);\n  }\n\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset) : prefix;\n    }\n\n    obj = '';\n  }\n\n  if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n    if (encoder) {\n      var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset);\n      return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset))];\n    }\n\n    return [formatter(prefix) + '=' + formatter(String(obj))];\n  }\n\n  var values = [];\n\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n\n  var objKeys;\n\n  if (Array.isArray(filter)) {\n    objKeys = filter;\n  } else {\n    var keys = Object.keys(obj);\n    objKeys = sort ? keys.sort(sort) : keys;\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    if (Array.isArray(obj)) {\n      pushToArray(values, stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n    } else {\n      pushToArray(values, stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n    }\n  }\n\n  return values;\n};\n\nmodule.exports = function (object, opts) {\n  var obj = object;\n  var options = opts ? utils.assign({}, opts) : {};\n\n  if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n\n  var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n  var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n  var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n  var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n  var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n  var sort = typeof options.sort === 'function' ? options.sort : null;\n  var allowDots = typeof options.allowDots === 'undefined' ? defaults.allowDots : !!options.allowDots;\n  var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n  var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n  var charset = options.charset || defaults.charset;\n\n  if (typeof options.charset !== 'undefined' && options.charset !== 'utf-8' && options.charset !== 'iso-8859-1') {\n    throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n\n  if (typeof options.format === 'undefined') {\n    options.format = formats['default'];\n  } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n    throw new TypeError('Unknown format option provided.');\n  }\n\n  var formatter = formats.formatters[options.format];\n  var objKeys;\n  var filter;\n\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (Array.isArray(options.filter)) {\n    filter = options.filter;\n    objKeys = filter;\n  }\n\n  var keys = [];\n\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n\n  var arrayFormat;\n\n  if (options.arrayFormat in arrayPrefixGenerators) {\n    arrayFormat = options.arrayFormat;\n  } else if ('indices' in options) {\n    arrayFormat = options.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = 'indices';\n  }\n\n  var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n  if (!objKeys) {\n    objKeys = Object.keys(obj);\n  }\n\n  if (sort) {\n    objKeys.sort(sort);\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    pushToArray(keys, stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode ? encoder : null, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n  }\n\n  var joined = keys.join(delimiter);\n  var prefix = options.addQueryPrefix === true ? '?' : '';\n\n  if (options.charsetSentinel) {\n    if (charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('✓')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n\n  return joined.length > 0 ? prefix + joined : '';\n};","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/node_modules/qs/lib/stringify.js"],"names":["utils","require","formats","arrayPrefixGenerators","brackets","prefix","indices","key","repeat","isArray","Array","push","prototype","pushToArray","arr","valueOrArray","apply","toISO","Date","toISOString","defaults","addQueryPrefix","allowDots","charset","charsetSentinel","delimiter","encode","encoder","encodeValuesOnly","serializeDate","date","call","skipNulls","strictNullHandling","stringify","object","generateArrayPrefix","filter","sort","formatter","obj","isBuffer","keyValue","String","values","objKeys","keys","Object","i","length","module","exports","opts","options","assign","undefined","TypeError","Error","format","hasOwnProperty","formatters","arrayFormat","joined","join"],"mappings":"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","sourcesContent":["'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? defaults.allowDots : !!options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    var charset = options.charset || defaults.charset;\n    if (typeof options.charset !== 'undefined' && options.charset !== 'utf-8' && options.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n"]},"metadata":{},"sourceType":"script"}