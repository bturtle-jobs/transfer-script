{"ast":null,"code":"import { OwpStorage } from 'owp/common';\nimport { STORAGE_AUTO_LOGOUT_TIME_KEY } from 'owp/constants';\nimport { useIdle } from 'owp/hooks';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nvar DEFAULT_TIMEOUT = OwpStorage.getItem(STORAGE_AUTO_LOGOUT_TIME_KEY);\n\nfunction AutoLogout(_ref) {\n  var isLoggedIn = _ref.isLoggedIn,\n      history = _ref.history,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? DEFAULT_TIMEOUT : _ref$timeout;\n  useIdle(timeout, isLoggedIn && DEFAULT_TIMEOUT > 0, function () {\n    history.replace('/logout');\n  });\n  return null;\n}\n\nfunction mapStateToProps(_ref2) {\n  var auth = _ref2.auth;\n  return {\n    isLoggedIn: auth.login.success\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(AutoLogout));","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/components/AutoLogout.js"],"names":["OwpStorage","STORAGE_AUTO_LOGOUT_TIME_KEY","useIdle","connect","withRouter","DEFAULT_TIMEOUT","getItem","AutoLogout","isLoggedIn","history","timeout","replace","mapStateToProps","auth","login","success"],"mappings":"AAAA,SAASA,UAAT,QAA2B,YAA3B;AACA,SAASC,4BAAT,QAA6C,eAA7C;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,IAAMC,eAAe,GAAGL,UAAU,CAACM,OAAX,CAAmBL,4BAAnB,CAAxB;;AAEA,SAASM,UAAT,OAAwE;AAAA,MAAlDC,UAAkD,QAAlDA,UAAkD;AAAA,MAAtCC,OAAsC,QAAtCA,OAAsC;AAAA,0BAA7BC,OAA6B;AAAA,MAA7BA,OAA6B,6BAAnBL,eAAmB;AACpEH,EAAAA,OAAO,CAACQ,OAAD,EAAUF,UAAU,IAAIH,eAAe,GAAG,CAA1C,EAA6C,YAAM;AACtDI,IAAAA,OAAO,CAACE,OAAR,CAAgB,SAAhB;AACH,GAFM,CAAP;AAIA,SAAO,IAAP;AACH;;AAED,SAASC,eAAT,QAAmC;AAAA,MAARC,IAAQ,SAARA,IAAQ;AAC/B,SAAO;AACHL,IAAAA,UAAU,EAAEK,IAAI,CAACC,KAAL,CAAWC;AADpB,GAAP;AAGH;;AAED,eAAeX,UAAU,CAACD,OAAO,CAACS,eAAD,CAAP,CAAyBL,UAAzB,CAAD,CAAzB","sourcesContent":["import { OwpStorage } from 'owp/common';\r\nimport { STORAGE_AUTO_LOGOUT_TIME_KEY } from 'owp/constants';\r\nimport { useIdle } from 'owp/hooks';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\nconst DEFAULT_TIMEOUT = OwpStorage.getItem(STORAGE_AUTO_LOGOUT_TIME_KEY);\r\n\r\nfunction AutoLogout({ isLoggedIn, history, timeout = DEFAULT_TIMEOUT }) {\r\n    useIdle(timeout, isLoggedIn && DEFAULT_TIMEOUT > 0, () => {\r\n        history.replace('/logout');\r\n    });\r\n\r\n    return null;\r\n}\r\n\r\nfunction mapStateToProps({ auth }) {\r\n    return {\r\n        isLoggedIn: auth.login.success,\r\n    };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(AutoLogout));\r\n"]},"metadata":{},"sourceType":"module"}