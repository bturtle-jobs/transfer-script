{"ast":null,"code":"import _objectSpread from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\owp\\\\src\\\\wrapper\\\\OwpDatePickerMulti.js\";\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport classNames from 'classnames';\nimport isAfter from 'date-fns/isAfter';\nimport isBefore from 'date-fns/isBefore';\nimport isEqual from 'date-fns/isEqual';\nimport debounce from 'lodash/debounce';\nimport get from 'lodash/get';\nimport isEmpty from 'lodash/isEmpty';\nimport noop from 'lodash/noop';\nimport range from 'lodash/range';\nimport { makeNowYYYYMMDD, makeNowYYYYMMDDHHmm } from 'owp/common';\nimport { DatePicker } from 'owp/components';\nimport { depr } from 'owp/debug';\nimport * as Actions from 'owp/store/actions/owp';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nvar START = 0;\nvar END = 1;\nvar LABEL_KEYS = ['start', 'end'];\n\nvar _debounce = debounce(function () {\n  var func = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return func();\n}, 100);\n\nvar initAdditionalDateValues = Object.fromEntries(range(2).map(function (num) {\n  return [num, '00'];\n}));\n\nvar OwpDatePickerMulti = function OwpDatePickerMulti(_ref) {\n  var id = _ref.id,\n      name = _ref.name,\n      fullWidth = _ref.fullWidth,\n      fullDate = _ref.fullDate,\n      autoFocus = _ref.autoFocus,\n      initNow = _ref.initNow,\n      useHour = _ref.useHour,\n      useSecond = _ref.useSecond,\n      useFilterSameDate = _ref.useFilterSameDate,\n      labels = _ref.labels,\n      onChange = _ref.onChange,\n      callback = _ref.callback,\n      autoMove = _ref.autoMove,\n      startDateProps = _ref.startDateProps,\n      endDateProps = _ref.endDateProps,\n      isReset = _ref.isReset,\n      resetAutoComplate = _ref.resetAutoComplate,\n      className = _ref.className,\n      restProps = _objectWithoutProperties(_ref, [\"id\", \"name\", \"fullWidth\", \"fullDate\", \"autoFocus\", \"initNow\", \"useHour\", \"useSecond\", \"useFilterSameDate\", \"labels\", \"onChange\", \"callback\", \"autoMove\", \"startDateProps\", \"endDateProps\", \"isReset\", \"resetAutoComplate\", \"className\"]);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      helperTextData = _useState2[0],\n      setHelperText = _useState2[1];\n\n  var _useState3 = useState(initAdditionalDateValues),\n      _useState4 = _slicedToArray(_useState3, 2),\n      addtionalDateValue = _useState4[0],\n      setAddtionalDate = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      defaultDates = _useState6[0],\n      setDefaultDates = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      stopMoveNextItem = _useState8[0],\n      setStopMoveNextItem = _useState8[1];\n\n  var useFullDate = fullDate || useSecond;\n  var datesInstance = [useRef(null), useRef(null)];\n  useEffect(function () {\n    depr('[OwpDatePickerMulti]: `OwpDatePickerMulti or OwpSearchDatePickerMulti` 는 deprecate 되었습니다. `OwpDateTimePickerMulti or OwpSearchDateTimePickerMulti` 으로 사용 하세요.');\n\n    if (isEmpty(defaultDates)) {\n      if (initNow) {\n        setDefaultDates(range(2).map(function () {\n          return getNow();\n        }));\n        return;\n      }\n\n      setDefaultDates([startDateProps, endDateProps].map(function () {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref2$defaultValue = _ref2.defaultValue,\n            defaultValue = _ref2$defaultValue === void 0 ? '' : _ref2$defaultValue;\n\n        return defaultValue;\n      }));\n    }\n  }, []);\n  useEffect(function () {\n    if (isReset) {\n      range(2).map(function (num) {\n        return ['value', 'defaultValue'].forEach(function (key) {\n          return datesInstance[num].current[key] = get(defaultDates, num, '');\n        });\n      });\n      setHelperText({});\n      setStopMoveNextItem({});\n      setAddtionalDate(initAdditionalDateValues);\n      resetAutoComplate(false);\n    }\n  }, [isReset]);\n\n  var getNow = function getNow() {\n    return useFullDate ? makeNowYYYYMMDDHHmm('-', ':') : makeNowYYYYMMDD('-');\n  };\n\n  var getAdditionalTargetValue = function getAdditionalTargetValue() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        index = _ref3.index,\n        value = _ref3.value;\n\n    return get(value, index, '00');\n  };\n\n  var makeDateProps = function makeDateProps() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        defaultValue = _ref4.defaultValue,\n        inputProps = _ref4.inputProps,\n        restProps = _objectWithoutProperties(_ref4, [\"defaultValue\", \"inputProps\"]);\n\n    var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return _objectSpread({\n      inputProps: _objectSpread(_objectSpread({}, useFullDate && {\n        style: {\n          minWidth: 240\n        }\n      }), inputProps),\n      defaultValue: initNow ? getNow() : defaultValue,\n      InputProps: {\n        inputProps: {\n          max: getNow(),\n          onKeyDown: function onKeyDown(evt) {\n            if (!!/^\\d+$/.test(evt.key) && !stopMoveNextItem[index]) {\n              setStopMoveNextItem(_objectSpread(_objectSpread({}, stopMoveNextItem), {}, {\n                [index]: true\n              }));\n            }\n          },\n          onBlur: function onBlur() {\n            return stopMoveNextItem[index] && setStopMoveNextItem(_objectSpread(_objectSpread({}, stopMoveNextItem), {}, {\n              [index]: false\n            }));\n          }\n        }\n      }\n    }, restProps);\n  };\n\n  var moveNextItem = function moveNextItem(isStart) {\n    if (!useHour && !useSecond && autoMove) {\n      if (isStart && !stopMoveNextItem[START]) {\n        _debounce(function () {\n          return datesInstance[END].current.focus();\n        });\n\n        return;\n      }\n\n      if (!isStart && !stopMoveNextItem[END] && !datesInstance[START].current.value) {\n        _debounce(function () {\n          return datesInstance[START].current.focus();\n        });\n\n        return;\n      }\n    }\n  };\n\n  var handleChange = function handleChange(_ref5, index) {\n    var isStart = _ref5.isStart,\n        nextAddtionalDateValue = _ref5.nextAddtionalDateValue;\n\n    if (!!nextAddtionalDateValue) {\n      setAddtionalDate(nextAddtionalDateValue);\n    }\n\n    var _range$map = range(2).map(function (num) {\n      return !isEmpty(datesInstance[num].current.value) && new Date(datesInstance[num].current.value);\n    }),\n        _range$map2 = _slicedToArray(_range$map, 2),\n        startDate = _range$map2[0],\n        endDate = _range$map2[1];\n\n    if (!!startDate && !!endDate) {\n      if (isStart && isAfter(startDate, endDate) || !isStart && isBefore(endDate, startDate) || (useHour || useSecond) && isEqual(startDate, endDate) && parseInt(get(nextAddtionalDateValue || addtionalDateValue, START)) > parseInt(get(nextAddtionalDateValue || addtionalDateValue, END))) {\n        setHelperText(_objectSpread(_objectSpread({}, helperTextData), {}, {\n          [index]: isStart ? \"\".concat(labels.start, \" \\uC740 \").concat(labels.end, \" \\uBCF4\\uB2E4 \\uD074\\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\") : \"\".concat(labels.end, \" \\uC740 \").concat(labels.start, \" \\uBCF4\\uB2E4 \\uCEE4\\uC57C \\uD569\\uB2C8\\uB2E4.\")\n        }));\n        return;\n      }\n\n      if (useFilterSameDate && isEqual(startDate, endDate)) {\n        setHelperText(_objectSpread(_objectSpread({}, helperTextData), {}, {\n          [index]: \"\".concat(labels[LABEL_KEYS[isStart ? START : END]], \" \\uC774 \").concat(labels[LABEL_KEYS[isStart ? END : START]], \" \\uACFC \\uAC19\\uC2B5\\uB2C8\\uB2E4.\")\n        }));\n        return;\n      } //success\n      // TODO: hour or second 사용시.. next focus 적용 필요\n\n\n      moveNextItem(isStart);\n      setHelperText({});\n    }\n\n    var changedDatesValue = range(2).map(function (num) {\n      var dateTime = get(datesInstance, \"\".concat([num], \".current.value\"), '');\n      return \"\".concat(useFullDate ? useSecond ? \"\".concat(dateTime.replace(/T/, ' '), \":\").concat(getAdditionalTargetValue({\n        index: num,\n        value: nextAddtionalDateValue || addtionalDateValue\n      })) : dateTime.replace(/T/, ' ') : dateTime).concat(useHour ? \"-\".concat(getAdditionalTargetValue({\n        index: num,\n        value: nextAddtionalDateValue || addtionalDateValue\n      })) : '');\n    }).join();\n    onChange(name, changedDatesValue);\n\n    if (typeof callback === 'function') {\n      depr('[OwpDatePickerMulti]: `callback(name, dates)` prop은 deprecate 되었습니다. `onChange(name, dates)` prop을 사용 바랍니다..');\n      callback(name, changedDatesValue);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames('flex', className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, range(2).map(function (rootNum) {\n    var isStart = rootNum === START;\n    var helperText = helperTextData[rootNum];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames({\n        'mr-12': isStart,\n        'mr-20': !isStart\n      }),\n      key: \"\".concat(id, \"-\").concat(rootNum),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, Object.assign({}, makeDateProps(isStart ? startDateProps : endDateProps, rootNum), {\n      autoFocus: isStart && autoFocus,\n      error: !!helperText,\n      helperText: helperText,\n      fullWidth: fullWidth,\n      fullDate: useFullDate,\n      label: labels[LABEL_KEYS[isStart ? START : END]],\n      inputRef: datesInstance[isStart ? START : END],\n      onChange: function onChange() {\n        return handleChange({\n          isStart: isStart\n        }, rootNum);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    })), !fullDate && (useHour || useSecond) && /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      className: \"mt-16\",\n      value: get(addtionalDateValue, rootNum, '00'),\n      error: !!helperText,\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: function onChange(evt) {\n        return handleChange({\n          isStart: isStart,\n          nextAddtionalDateValue: _objectSpread(_objectSpread({}, addtionalDateValue), {}, {\n            [rootNum]: evt.target.value\n          })\n        }, rootNum);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }, range(useHour ? 24 : 60).map(function (subNum) {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: \"option-hour-\".concat(rootNum, \"-\").concat(subNum),\n        value: subNum < 10 ? \"0\".concat(subNum) : subNum,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 37\n        }\n      }, \"\".concat(subNum).concat(useHour ? '시' : '초'));\n    })));\n  }));\n};\n\nOwpDatePickerMulti.propTypes = {\n  id: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  fullWidth: PropTypes.bool,\n\n  /**\r\n   * onChange return value => 'YYYY-MM-DD HH:mm'\r\n   */\n  fullDate: PropTypes.bool,\n\n  /**\r\n   * 시작 종료일이 같은 경우 Filter 설정 * true: 시작/종료 같음 Filter 함, flase: 시작/종료 같음 Filter 안함\r\n   */\n  useFilterSameDate: PropTypes.bool,\n\n  /**\r\n   * Start -> End date 자동 이동 여부\r\n   */\n  autoMove: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n\n  /**\r\n   * defaultValue 를 오늘날짜로 init\r\n   */\n  initNow: PropTypes.bool,\n\n  /**\r\n   * 시간(Hour) 설정 추가 * fullDate: true 인 경우 무시됨. * onChange return value => 'YYYY-MM-DD-HH'\r\n   */\n  useHour: PropTypes.bool,\n\n  /**\r\n   * 초(Second) 설정 추가 * onChange return value => 'YYYY-MM-DD HH:mm:ss'\r\n   */\n  useSecond: PropTypes.bool,\n\n  /**\r\n   * label 을 설정한다.\r\n   * @param Object { start: 'start', end: 'end' }\r\n   */\n  labels: PropTypes.object,\n\n  /**\r\n   * 시작일 component props\r\n   */\n  startDateProps: PropTypes.object,\n\n  /**\r\n   * 종료일 component props\r\n   */\n  endDateProps: PropTypes.object,\n\n  /**\r\n   * 시작/종료 날짜 입력 완료 또는 선택 시 변경된 dates 전달\r\n   *\r\n   * @param (name, dateString) ex) name, 'YYYY-MM-DD...,YYYY-MM-DD...' // start date, end date\r\n   */\n  onChange: PropTypes.func,\n\n  /**\r\n   * [DPERICATE] 시작/종료 날짜 입력 완료 또는 선택 시 변경된 dates 전달\r\n   *\r\n   * @param (name, dateString) ex) name, 'YYYY-MM-DD...,YYYY-MM-DD...' // start date, end date\r\n   */\n  callback: PropTypes.func\n};\nOwpDatePickerMulti.defaultProps = {\n  id: 'OWP_DATES',\n  fullWidth: false,\n  fullDate: false,\n  autoFocus: false,\n  autoMove: false,\n  initNow: false,\n  useHour: false,\n  useSecond: false,\n  useFilterSameDate: false,\n  labels: {\n    start: '시작일',\n    end: '종료일'\n  },\n  startDateProps: {},\n  endDateProps: {},\n  onChange: function onChange(dates) {}\n};\n\nfunction mapStateToProps(_ref6) {\n  var owp = _ref6.owp;\n  return {\n    isReset: owp.wrapper.isReset\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    resetAutoComplate: Actions.resetAutoComplate\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OwpDatePickerMulti);","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/wrapper/OwpDatePickerMulti.js"],"names":["MenuItem","TextField","classNames","isAfter","isBefore","isEqual","debounce","get","isEmpty","noop","range","makeNowYYYYMMDD","makeNowYYYYMMDDHHmm","DatePicker","depr","Actions","PropTypes","React","useEffect","useRef","useState","connect","bindActionCreators","START","END","LABEL_KEYS","_debounce","func","initAdditionalDateValues","Object","fromEntries","map","num","OwpDatePickerMulti","id","name","fullWidth","fullDate","autoFocus","initNow","useHour","useSecond","useFilterSameDate","labels","onChange","callback","autoMove","startDateProps","endDateProps","isReset","resetAutoComplate","className","restProps","helperTextData","setHelperText","addtionalDateValue","setAddtionalDate","defaultDates","setDefaultDates","stopMoveNextItem","setStopMoveNextItem","useFullDate","datesInstance","getNow","defaultValue","forEach","key","current","getAdditionalTargetValue","index","value","makeDateProps","inputProps","style","minWidth","InputProps","max","onKeyDown","evt","test","onBlur","moveNextItem","isStart","focus","handleChange","nextAddtionalDateValue","Date","startDate","endDate","parseInt","start","end","changedDatesValue","dateTime","replace","join","rootNum","helperText","shrink","target","subNum","propTypes","string","isRequired","bool","object","defaultProps","dates","mapStateToProps","owp","wrapper","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport classNames from 'classnames';\r\nimport isAfter from 'date-fns/isAfter';\r\nimport isBefore from 'date-fns/isBefore';\r\nimport isEqual from 'date-fns/isEqual';\r\nimport debounce from 'lodash/debounce';\r\nimport get from 'lodash/get';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport noop from 'lodash/noop';\r\nimport range from 'lodash/range';\r\nimport { makeNowYYYYMMDD, makeNowYYYYMMDDHHmm } from 'owp/common';\r\nimport { DatePicker } from 'owp/components';\r\nimport { depr } from 'owp/debug';\r\nimport * as Actions from 'owp/store/actions/owp';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nconst START = 0;\r\nconst END = 1;\r\nconst LABEL_KEYS = ['start', 'end'];\r\n\r\nconst _debounce = debounce((func = noop) => func(), 100);\r\n\r\nconst initAdditionalDateValues = Object.fromEntries(range(2).map((num) => [num, '00']));\r\n\r\nconst OwpDatePickerMulti = ({\r\n    id,\r\n    name,\r\n    fullWidth,\r\n    fullDate,\r\n    autoFocus,\r\n    initNow,\r\n    useHour,\r\n    useSecond,\r\n    useFilterSameDate,\r\n    labels,\r\n    onChange,\r\n    callback,\r\n    autoMove,\r\n    startDateProps,\r\n    endDateProps,\r\n    isReset,\r\n    resetAutoComplate,\r\n    className,\r\n    ...restProps\r\n}) => {\r\n    const [helperTextData, setHelperText] = useState({});\r\n    const [addtionalDateValue, setAddtionalDate] = useState(initAdditionalDateValues);\r\n    const [defaultDates, setDefaultDates] = useState([]);\r\n    const [stopMoveNextItem, setStopMoveNextItem] = useState({});\r\n\r\n    const useFullDate = fullDate || useSecond;\r\n\r\n    const datesInstance = [useRef(null), useRef(null)];\r\n\r\n    useEffect(() => {\r\n        depr(\r\n            '[OwpDatePickerMulti]: `OwpDatePickerMulti or OwpSearchDatePickerMulti` 는 deprecate 되었습니다. `OwpDateTimePickerMulti or OwpSearchDateTimePickerMulti` 으로 사용 하세요.'\r\n        );\r\n\r\n        if (isEmpty(defaultDates)) {\r\n            if (initNow) {\r\n                setDefaultDates(range(2).map(() => getNow()));\r\n                return;\r\n            }\r\n            setDefaultDates(\r\n                [startDateProps, endDateProps].map(({ defaultValue = '' } = {}) => defaultValue)\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isReset) {\r\n            range(2).map((num) =>\r\n                ['value', 'defaultValue'].forEach(\r\n                    (key) => (datesInstance[num].current[key] = get(defaultDates, num, ''))\r\n                )\r\n            );\r\n\r\n            setHelperText({});\r\n            setStopMoveNextItem({});\r\n            setAddtionalDate(initAdditionalDateValues);\r\n            resetAutoComplate(false);\r\n        }\r\n    }, [isReset]);\r\n\r\n    const getNow = () => (useFullDate ? makeNowYYYYMMDDHHmm('-', ':') : makeNowYYYYMMDD('-'));\r\n\r\n    const getAdditionalTargetValue = ({ index, value } = {}) => get(value, index, '00');\r\n\r\n    const makeDateProps = ({ defaultValue, inputProps, ...restProps } = {}, index = 0) => {\r\n        return {\r\n            inputProps: {\r\n                ...(useFullDate && { style: { minWidth: 240 } }),\r\n                ...inputProps,\r\n            },\r\n            defaultValue: initNow ? getNow() : defaultValue,\r\n            InputProps: {\r\n                inputProps: {\r\n                    max: getNow(),\r\n                    onKeyDown: (evt) => {\r\n                        if (!!/^\\d+$/.test(evt.key) && !stopMoveNextItem[index]) {\r\n                            setStopMoveNextItem({ ...stopMoveNextItem, [index]: true });\r\n                        }\r\n                    },\r\n                    onBlur: () =>\r\n                        stopMoveNextItem[index] &&\r\n                        setStopMoveNextItem({ ...stopMoveNextItem, [index]: false }),\r\n                },\r\n            },\r\n            ...restProps,\r\n        };\r\n    };\r\n\r\n    const moveNextItem = (isStart) => {\r\n        if (!useHour && !useSecond && autoMove) {\r\n            if (isStart && !stopMoveNextItem[START]) {\r\n                _debounce(() => datesInstance[END].current.focus());\r\n                return;\r\n            }\r\n\r\n            if (!isStart && !stopMoveNextItem[END] && !datesInstance[START].current.value) {\r\n                _debounce(() => datesInstance[START].current.focus());\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleChange = ({ isStart, nextAddtionalDateValue }, index) => {\r\n        if (!!nextAddtionalDateValue) {\r\n            setAddtionalDate(nextAddtionalDateValue);\r\n        }\r\n\r\n        const [startDate, endDate] = range(2).map(\r\n            (num) =>\r\n                !isEmpty(datesInstance[num].current.value) &&\r\n                new Date(datesInstance[num].current.value)\r\n        );\r\n\r\n        if (!!startDate && !!endDate) {\r\n            if (\r\n                (isStart && isAfter(startDate, endDate)) ||\r\n                (!isStart && isBefore(endDate, startDate)) ||\r\n                ((useHour || useSecond) &&\r\n                    isEqual(startDate, endDate) &&\r\n                    parseInt(get(nextAddtionalDateValue || addtionalDateValue, START)) >\r\n                        parseInt(get(nextAddtionalDateValue || addtionalDateValue, END)))\r\n            ) {\r\n                setHelperText({\r\n                    ...helperTextData,\r\n                    [index]: isStart\r\n                        ? `${labels.start} 은 ${labels.end} 보다 클수 없습니다.`\r\n                        : `${labels.end} 은 ${labels.start} 보다 커야 합니다.`,\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            if (useFilterSameDate && isEqual(startDate, endDate)) {\r\n                setHelperText({\r\n                    ...helperTextData,\r\n                    [index]: `${labels[LABEL_KEYS[isStart ? START : END]]} 이 ${\r\n                        labels[LABEL_KEYS[isStart ? END : START]]\r\n                    } 과 같습니다.`,\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            //success\r\n            // TODO: hour or second 사용시.. next focus 적용 필요\r\n            moveNextItem(isStart);\r\n            setHelperText({});\r\n        }\r\n\r\n        const changedDatesValue = range(2)\r\n            .map((num) => {\r\n                const dateTime = get(datesInstance, `${[num]}.current.value`, '');\r\n                return `${\r\n                    useFullDate\r\n                        ? useSecond\r\n                            ? `${dateTime.replace(/T/, ' ')}:${getAdditionalTargetValue({\r\n                                  index: num,\r\n                                  value: nextAddtionalDateValue || addtionalDateValue,\r\n                              })}`\r\n                            : dateTime.replace(/T/, ' ')\r\n                        : dateTime\r\n                }${\r\n                    useHour\r\n                        ? `-${getAdditionalTargetValue({\r\n                              index: num,\r\n                              value: nextAddtionalDateValue || addtionalDateValue,\r\n                          })}`\r\n                        : ''\r\n                }`;\r\n            })\r\n            .join();\r\n\r\n        onChange(name, changedDatesValue);\r\n\r\n        if (typeof callback === 'function') {\r\n            depr(\r\n                '[OwpDatePickerMulti]: `callback(name, dates)` prop은 deprecate 되었습니다. `onChange(name, dates)` prop을 사용 바랍니다..'\r\n            );\r\n\r\n            callback(name, changedDatesValue);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classNames('flex', className)}>\r\n            {range(2).map((rootNum) => {\r\n                const isStart = rootNum === START;\r\n                const helperText = helperTextData[rootNum];\r\n                return (\r\n                    <div\r\n                        className={classNames({ 'mr-12': isStart, 'mr-20': !isStart })}\r\n                        key={`${id}-${rootNum}`}\r\n                    >\r\n                        <DatePicker\r\n                            {...makeDateProps(\r\n                                isStart ? startDateProps : endDateProps,\r\n\r\n                                rootNum\r\n                            )}\r\n                            autoFocus={isStart && autoFocus}\r\n                            error={!!helperText}\r\n                            helperText={helperText}\r\n                            fullWidth={fullWidth}\r\n                            fullDate={useFullDate}\r\n                            label={labels[LABEL_KEYS[isStart ? START : END]]}\r\n                            inputRef={datesInstance[isStart ? START : END]}\r\n                            onChange={() => handleChange({ isStart }, rootNum)}\r\n                        />\r\n                        {!fullDate && (useHour || useSecond) && (\r\n                            <TextField\r\n                                select\r\n                                className=\"mt-16\"\r\n                                value={get(addtionalDateValue, rootNum, '00')}\r\n                                error={!!helperText}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                                onChange={(evt) =>\r\n                                    handleChange(\r\n                                        {\r\n                                            isStart,\r\n                                            nextAddtionalDateValue: {\r\n                                                ...addtionalDateValue,\r\n                                                [rootNum]: evt.target.value,\r\n                                            },\r\n                                        },\r\n                                        rootNum\r\n                                    )\r\n                                }\r\n                            >\r\n                                {range(useHour ? 24 : 60).map((subNum) => (\r\n                                    <MenuItem\r\n                                        key={`option-hour-${rootNum}-${subNum}`}\r\n                                        value={subNum < 10 ? `0${subNum}` : subNum}\r\n                                    >{`${subNum}${useHour ? '시' : '초'}`}</MenuItem>\r\n                                ))}\r\n                            </TextField>\r\n                        )}\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nOwpDatePickerMulti.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    className: PropTypes.string,\r\n    fullWidth: PropTypes.bool,\r\n    /**\r\n     * onChange return value => 'YYYY-MM-DD HH:mm'\r\n     */\r\n    fullDate: PropTypes.bool,\r\n    /**\r\n     * 시작 종료일이 같은 경우 Filter 설정 * true: 시작/종료 같음 Filter 함, flase: 시작/종료 같음 Filter 안함\r\n     */\r\n    useFilterSameDate: PropTypes.bool,\r\n    /**\r\n     * Start -> End date 자동 이동 여부\r\n     */\r\n    autoMove: PropTypes.bool,\r\n    autoFocus: PropTypes.bool,\r\n    /**\r\n     * defaultValue 를 오늘날짜로 init\r\n     */\r\n    initNow: PropTypes.bool,\r\n    /**\r\n     * 시간(Hour) 설정 추가 * fullDate: true 인 경우 무시됨. * onChange return value => 'YYYY-MM-DD-HH'\r\n     */\r\n    useHour: PropTypes.bool,\r\n    /**\r\n     * 초(Second) 설정 추가 * onChange return value => 'YYYY-MM-DD HH:mm:ss'\r\n     */\r\n    useSecond: PropTypes.bool,\r\n    /**\r\n     * label 을 설정한다.\r\n     * @param Object { start: 'start', end: 'end' }\r\n     */\r\n    labels: PropTypes.object,\r\n    /**\r\n     * 시작일 component props\r\n     */\r\n    startDateProps: PropTypes.object,\r\n    /**\r\n     * 종료일 component props\r\n     */\r\n    endDateProps: PropTypes.object,\r\n    /**\r\n     * 시작/종료 날짜 입력 완료 또는 선택 시 변경된 dates 전달\r\n     *\r\n     * @param (name, dateString) ex) name, 'YYYY-MM-DD...,YYYY-MM-DD...' // start date, end date\r\n     */\r\n    onChange: PropTypes.func,\r\n    /**\r\n     * [DPERICATE] 시작/종료 날짜 입력 완료 또는 선택 시 변경된 dates 전달\r\n     *\r\n     * @param (name, dateString) ex) name, 'YYYY-MM-DD...,YYYY-MM-DD...' // start date, end date\r\n     */\r\n    callback: PropTypes.func,\r\n};\r\n\r\nOwpDatePickerMulti.defaultProps = {\r\n    id: 'OWP_DATES',\r\n    fullWidth: false,\r\n    fullDate: false,\r\n    autoFocus: false,\r\n    autoMove: false,\r\n    initNow: false,\r\n    useHour: false,\r\n    useSecond: false,\r\n    useFilterSameDate: false,\r\n    labels: {\r\n        start: '시작일',\r\n        end: '종료일',\r\n    },\r\n    startDateProps: {},\r\n    endDateProps: {},\r\n    onChange: (dates) => {},\r\n};\r\n\r\nfunction mapStateToProps({ owp }) {\r\n    return {\r\n        isReset: owp.wrapper.isReset,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(\r\n        {\r\n            resetAutoComplate: Actions.resetAutoComplate,\r\n        },\r\n        dispatch\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OwpDatePickerMulti);\r\n"]},"metadata":{},"sourceType":"module"}