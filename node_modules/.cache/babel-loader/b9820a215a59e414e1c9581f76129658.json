{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\src\\\\main\\\\content\\\\include\\\\Dialog_C803002.js\";\nimport React, { Component } from \"react\";\nimport { OwpDialog, OwpButton, OwpSession, OwpSearchTextField, OwpMessage } from 'owp/wrapper';\nimport Formsy from \"formsy-react\";\nimport { query, mutate } from \"owp/api\";\nimport * as TGEvent from 'owp/TGEvent';\nimport translationHelper from 'main/content/utils/translationHelper';\nvar pageID = 'C803000';\n\nvar DialogReweighing = /*#__PURE__*/function (_Component) {\n  _inherits(DialogReweighing, _Component);\n\n  var _super = _createSuper(DialogReweighing);\n\n  function DialogReweighing(props) {\n    var _this;\n\n    _classCallCheck(this, DialogReweighing);\n\n    _this = _super.call(this, props);\n\n    _this.loadvalue = function () {\n      query({\n        url: \"/loadIpxCommoncode/\" + _this.props.CODEID\n      }).then(function (res) {\n        _this.setState({\n          CODEID: res[\"IPX_COMMONCODE.CODEID\"],\n          CODENM: res[\"IPX_COMMONCODE.CODENM\"],\n          REMARK: res[\"IPX_COMMONCODE.REMARK\"],\n          FLAG: res[\"IPX_COMMONCODE.FLAG\"]\n        });\n      }).catch(function (error) {\n        return console.error(\"error...\", error);\n      });\n    };\n\n    _this.openDialogReweighing = function () {\n      if (!Boolean(_this.props.CODEID)) {\n        OwpMessage({\n          message: translationHelper(pageID + '.message.please_select_top_code'),\n          //Please Select Upper Code.\n          variant: \"warning\"\n        });\n\n        _this.closeDialogReweighing();\n      } else {\n        _this.loadvalue();\n\n        _this.setState({\n          stateDialogReweighing: true\n        });\n      }\n    };\n\n    _this.closeDialogReweighing = function () {\n      _this.setState({\n        stateDialogReweighing: false\n      });\n\n      _this.owpDialog.handleClose();\n    };\n\n    _this.openDialogReweighing2 = function () {\n      _this.setState({\n        stateDialogReweighing2: true\n      });\n\n      _this.setState({\n        popMessage: translationHelper(pageID + '.message.do_you_want_to_save')\n      }); //Do you want to save?\n\n    };\n\n    _this.closeDialogReweighing2 = function () {\n      _this.setState({\n        stateDialogReweighing2: false\n      });\n    };\n\n    _this.handleUpdate = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  cudtype: \"update\",\n                  \"IPX_COMMONCODE.CODEID\": _this.state.CODEID,\n                  // 코드ID\n                  \"IPX_COMMONCODE.CODENM\": document.getElementById(\"CODENM\").value,\n                  // 코드명\n                  \"IPX_COMMONCODE.REMARK\": document.getElementById(\"REMARK\").value,\n                  // 비고\n                  \"IPX_COMMONCODE.FLAG\": \"Y\",\n                  \"IPX_COMMONCODE.WUSERSEQ\": OwpSession(\"USERSEQ\") // : 로그인 사용자SEQ\n\n                };\n                _context.next = 3;\n                return mutate({\n                  url: \"/updateIPX_CommonCodeHigh\",\n                  data: data\n                }).then(function (res) {\n                  var G = TGEvent.getGridByID(\"C803001\");\n                  G.ReloadBody();\n\n                  _this.props.ClearProps();\n\n                  _this.closeDialogReweighing();\n\n                  _this.closeDialogReweighing2();\n                }).catch(function (error) {\n                  console.error(error);\n\n                  _this.closeDialogReweighing2();\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    _this.owpDialog = React.createRef();\n    _this.clickUpdate = _this.clickUpdate.bind(_assertThisInitialized(_this));\n    _this.handleUpdate = _this.handleUpdate.bind(_assertThisInitialized(_this));\n    _this.state = {\n      CODENM: \"\",\n      CODEID: \"\",\n      REMARK: \"\",\n      FLAG: \"\",\n      stateDialogReweighing: false\n    };\n    return _this;\n  }\n\n  _createClass(DialogReweighing, [{\n    key: \"clickUpdate\",\n    value: function clickUpdate() {\n      this.handleUpdate(\"START\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(OwpDialog, {\n        title: translationHelper(pageID + '.title.modify_top_dialog_title') // Upper Code Modify\n        ,\n        dialogButton: translationHelper(pageID + '.buttons.modify_button') // Modify\n        ,\n        callbackFunction: this.openDialogReweighing,\n        onOpen: this.state.stateDialogReweighing,\n        dialogActions: /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(OwpButton, {\n          color: \"secondary\",\n          variant: \"contained\",\n          onClick: this.openDialogReweighing2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }\n        }, translationHelper(pageID + '.buttons.dialog_save_button'), \" \"), /*#__PURE__*/React.createElement(OwpButton, {\n          color: \"secondary\",\n          variant: \"outlined\",\n          onClick: this.closeDialogReweighing,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }\n        }, translationHelper(pageID + '.buttons.dialog_close_button'), \" \")),\n        innerRef: function innerRef(ref) {\n          return _this2.owpDialog = ref;\n        },\n        width: \"700px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(OwpDialog // 저장버튼을 누르면 나오는 다이얼로그.\n      , {\n        onOpen: this.state.stateDialogReweighing2,\n        dialogActions: /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(OwpButton, {\n          color: \"secondary\",\n          variant: \"contained\",\n          onClick: this.clickUpdate,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }\n        }, translationHelper(pageID + '.buttons.dialog_ok_button'), \" \"), /*#__PURE__*/React.createElement(OwpButton, {\n          color: \"secondary\",\n          variant: \"outlined\",\n          onClick: this.closeDialogReweighing2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }\n        }, translationHelper(pageID + '.buttons.dialog_cancel_button'), \" \")),\n        width: \"211px\",\n        height: \"100%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, this.state.popMessage)), /*#__PURE__*/React.createElement(Formsy, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-advance tlw5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, translationHelper(pageID + '.fields.upper_code_id'), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"c04\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 74\n        }\n      }, \"*\"), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(OwpSearchTextField, {\n        id: \"CODEID\",\n        name: \"CODEID\",\n        value: this.state.CODEID,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, translationHelper(pageID + '.fields.upper_code_name'), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"c04\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 76\n        }\n      }, \"*\"), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(OwpSearchTextField, {\n        id: \"CODENM\",\n        name: \"CODENM\",\n        value: this.state.CODENM,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, translationHelper(pageID + '.fields.remark')), \" \", /*#__PURE__*/React.createElement(\"td\", {\n        className: \"left\",\n        colSpan: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(OwpSearchTextField, {\n        style: {\n          width: '100%',\n          maxHeight: '200px'\n        },\n        id: \"REMARK\",\n        name: \"REMARK\",\n        value: this.state.REMARK,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }\n      })))))))));\n    }\n  }]);\n\n  return DialogReweighing;\n}(Component);\n\nexport default DialogReweighing;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/src/main/content/include/Dialog_C803002.js"],"names":["React","Component","OwpDialog","OwpButton","OwpSession","OwpSearchTextField","OwpMessage","Formsy","query","mutate","TGEvent","translationHelper","pageID","DialogReweighing","props","loadvalue","url","CODEID","then","res","setState","CODENM","REMARK","FLAG","catch","error","console","openDialogReweighing","Boolean","message","variant","closeDialogReweighing","stateDialogReweighing","owpDialog","handleClose","openDialogReweighing2","stateDialogReweighing2","popMessage","closeDialogReweighing2","handleUpdate","type","data","cudtype","state","document","getElementById","value","G","getGridByID","ReloadBody","ClearProps","handleChange","event","target","name","createRef","clickUpdate","bind","ref","width","maxHeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport { OwpDialog, OwpButton, OwpSession, OwpSearchTextField, OwpMessage } from 'owp/wrapper';\r\nimport Formsy from \"formsy-react\"\r\nimport { query, mutate } from \"owp/api\";\r\nimport * as TGEvent from 'owp/TGEvent';\r\nimport translationHelper from 'main/content/utils/translationHelper';\r\nconst pageID = 'C803000';\r\n\r\nclass DialogReweighing extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.owpDialog = React.createRef()\r\n    this.clickUpdate = this.clickUpdate.bind(this)\r\n    this.handleUpdate = this.handleUpdate.bind(this)\r\n\r\n    this.state = {\r\n      CODENM: \"\",\r\n      CODEID: \"\",\r\n      REMARK: \"\",\r\n      FLAG: \"\",\r\n      stateDialogReweighing: false\r\n    }\r\n  }\r\n  loadvalue = () => {\r\n    query({\r\n      url: \"/loadIpxCommoncode/\" + this.props.CODEID\r\n    })\r\n      .then(res => {\r\n        this.setState({\r\n          CODEID: res[\"IPX_COMMONCODE.CODEID\"],\r\n          CODENM: res[\"IPX_COMMONCODE.CODENM\"],\r\n          REMARK: res[\"IPX_COMMONCODE.REMARK\"],\r\n          FLAG: res[\"IPX_COMMONCODE.FLAG\"]\r\n        })\r\n      })\r\n      .catch(error => console.error(\"error...\", error))\r\n  }\r\n  openDialogReweighing = () => {\r\n    if (!Boolean(this.props.CODEID)) {\r\n      OwpMessage({\r\n        message: translationHelper(pageID + '.message.please_select_top_code'), //Please Select Upper Code.\r\n        variant: \"warning\"\r\n      })\r\n      this.closeDialogReweighing()\r\n    } else {\r\n      this.loadvalue()\r\n      this.setState({ stateDialogReweighing: true })\r\n    }\r\n  }\r\n\r\n  closeDialogReweighing = () => {\r\n    this.setState({ stateDialogReweighing: false })\r\n    this.owpDialog.handleClose()\r\n  }\r\n\r\n  openDialogReweighing2 = () => {\r\n    this.setState({ stateDialogReweighing2: true })\r\n    this.setState({ popMessage: translationHelper(pageID + '.message.do_you_want_to_save') }) //Do you want to save?\r\n  }\r\n\r\n  closeDialogReweighing2 = () => {\r\n    this.setState({ stateDialogReweighing2: false })\r\n  }\r\n  handleUpdate = async type => {\r\n    const data = {\r\n      cudtype: \"update\",\r\n      \"IPX_COMMONCODE.CODEID\": this.state.CODEID, // 코드ID\r\n      \"IPX_COMMONCODE.CODENM\": document.getElementById(\"CODENM\").value, // 코드명\r\n      \"IPX_COMMONCODE.REMARK\": document.getElementById(\"REMARK\").value, // 비고\r\n      \"IPX_COMMONCODE.FLAG\": \"Y\",\r\n      \"IPX_COMMONCODE.WUSERSEQ\": OwpSession(\"USERSEQ\"),// : 로그인 사용자SEQ\r\n    }\r\n\r\n    await mutate({\r\n      url: \"/updateIPX_CommonCodeHigh\",\r\n      data\r\n    })\r\n      .then(res => {\r\n        const G = TGEvent.getGridByID(\"C803001\")\r\n        G.ReloadBody()\r\n        this.props.ClearProps()\r\n        this.closeDialogReweighing()\r\n        this.closeDialogReweighing2()\r\n      })\r\n      .catch(error => {\r\n        console.error(error)\r\n        this.closeDialogReweighing2()\r\n      })\r\n  }\r\n  clickUpdate() {\r\n    this.handleUpdate(\"START\")\r\n  }\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n  render() {\r\n    return (\r\n      <OwpDialog\r\n        title={translationHelper(pageID + '.title.modify_top_dialog_title')} // Upper Code Modify\r\n        dialogButton={translationHelper(pageID + '.buttons.modify_button')} // Modify\r\n        callbackFunction={this.openDialogReweighing}\r\n        onOpen={this.state.stateDialogReweighing}\r\n        dialogActions={\r\n          <React.Fragment>\r\n            <OwpButton color=\"secondary\" variant=\"contained\" onClick={this.openDialogReweighing2}>\r\n            {translationHelper(pageID + '.buttons.dialog_save_button')} {/*Save*/}\r\n            </OwpButton>\r\n            <OwpButton color=\"secondary\" variant=\"outlined\" onClick={this.closeDialogReweighing}>\r\n            {translationHelper(pageID + '.buttons.dialog_close_button')} {/*Close*/}\r\n            </OwpButton>\r\n          </React.Fragment>\r\n        }\r\n        innerRef={ref => (this.owpDialog = ref)}\r\n        width=\"700px\"\r\n      >\r\n        <React.Fragment>\r\n          <OwpDialog // 저장버튼을 누르면 나오는 다이얼로그.\r\n            onOpen={this.state.stateDialogReweighing2}\r\n            dialogActions={\r\n              <React.Fragment>\r\n                <OwpButton color=\"secondary\" variant=\"contained\" onClick={this.clickUpdate}>\r\n                {translationHelper(pageID + '.buttons.dialog_ok_button')} {/*Yes*/}\r\n                </OwpButton>\r\n                <OwpButton\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                  onClick={this.closeDialogReweighing2}\r\n                >\r\n                  {translationHelper(pageID + '.buttons.dialog_cancel_button')} {/*No*/}\r\n                </OwpButton>\r\n              </React.Fragment>\r\n            }\r\n            width=\"211px\"\r\n            height=\"100%\"\r\n          >\r\n            <React.Fragment>{this.state.popMessage}</React.Fragment>\r\n          </OwpDialog>\r\n\r\n          <Formsy>\r\n            <div style={{ width: '100%' }}>\r\n              <table className=\"table table-bordered table-advance tlw5\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th className=\"left\">\r\n                    {translationHelper(pageID + '.fields.upper_code_id')}<span className=\"c04\">*</span> {/*Upper Code ID*/}\r\n                    </th>\r\n                    <td>\r\n                      <OwpSearchTextField\r\n                        id=\"CODEID\"\r\n                        name=\"CODEID\"\r\n                        value={this.state.CODEID}\r\n                        disabled={true}\r\n                      />\r\n                    </td>\r\n                    <th className=\"left\">\r\n                    {translationHelper(pageID + '.fields.upper_code_name')}<span className=\"c04\">*</span> {/*Upper Code Name*/}\r\n                    </th>\r\n                    <td>\r\n                      <OwpSearchTextField\r\n                        id=\"CODENM\"\r\n                        name=\"CODENM\"\r\n                        value={this.state.CODENM}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th className=\"left\">{translationHelper(pageID + '.fields.remark')}</th> {/*Remark*/} \r\n                    <td className=\"left\" colSpan={3}>\r\n                      <OwpSearchTextField\r\n                        style={{width:'100%', maxHeight: '200px',}} \r\n                        id=\"REMARK\"\r\n                        name=\"REMARK\"\r\n                        value={this.state.REMARK}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Formsy>\r\n        </React.Fragment>\r\n      </OwpDialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DialogReweighing\r\n"]},"metadata":{},"sourceType":"module"}