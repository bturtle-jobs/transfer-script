{"ast":null,"code":"import _objectSpread from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"C:\\\\Projects\\\\Trunks\\\\OWP-GIT\\\\owp-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport { get, isEmpty } from 'lodash';\nimport * as Actions from '../actions';\n\nfunction mapProfile() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    id: get(data, 'profile.id'),\n    email: '',\n    userId: get(data, 'USERID'),\n    userSeq: get(data, 'USERSEQ'),\n    displayName: get(data, 'USERNAME'),\n    deptName: get(data, 'DEPTID_CODENM'),\n    permissionName: get(data, 'PERMISSIONID_CODENM'),\n    rankName: get(data, 'RANKID_CODENM'),\n    navigation: get(data, 'navigation')\n  };\n}\n\nfunction mapUserData() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$role = _ref.role,\n      role = _ref$role === void 0 ? 'guest' : _ref$role,\n      _ref$shortcuts = _ref.shortcuts,\n      shortcuts = _ref$shortcuts === void 0 ? [] : _ref$shortcuts,\n      rest = _objectWithoutProperties(_ref, [\"role\", \"shortcuts\"]);\n\n  return {\n    role: role,\n    shortcuts: shortcuts,\n    data: mapProfile(rest)\n  };\n}\n\nvar initialState = mapUserData();\n\nvar user = function user() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Actions.SET_USER_DATA:\n      {\n        return mapUserData(_objectSpread({\n          role: isEmpty(action.payload) ? 'guest' : 'staff'\n        }, action.payload));\n      }\n\n    case Actions.SET_USER_SHORTCUTS:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          shortcuts: action.shortcuts\n        });\n      }\n\n    case Actions.REMOVE_USER_DATA:\n      {\n        return _objectSpread({}, initialState);\n      }\n\n    case Actions.USER_LOGGED_OUT:\n      {\n        return initialState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default user;","map":{"version":3,"sources":["C:/Projects/Trunks/OWP-GIT/owp-fe/node_modules/owp/src/auth/store/reducers/user.reducer.js"],"names":["get","isEmpty","Actions","mapProfile","data","id","email","userId","userSeq","displayName","deptName","permissionName","rankName","navigation","mapUserData","role","shortcuts","rest","initialState","user","state","action","type","SET_USER_DATA","payload","SET_USER_SHORTCUTS","REMOVE_USER_DATA","USER_LOGGED_OUT"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,OAAd,QAA6B,QAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,YAAzB;;AAEA,SAASC,UAAT,GAA+B;AAAA,MAAXC,IAAW,uEAAJ,EAAI;AAC3B,SAAO;AACHC,IAAAA,EAAE,EAAEL,GAAG,CAACI,IAAD,EAAO,YAAP,CADJ;AAEHE,IAAAA,KAAK,EAAE,EAFJ;AAGHC,IAAAA,MAAM,EAAEP,GAAG,CAACI,IAAD,EAAO,QAAP,CAHR;AAIHI,IAAAA,OAAO,EAAER,GAAG,CAACI,IAAD,EAAO,SAAP,CAJT;AAKHK,IAAAA,WAAW,EAAET,GAAG,CAACI,IAAD,EAAO,UAAP,CALb;AAMHM,IAAAA,QAAQ,EAAEV,GAAG,CAACI,IAAD,EAAO,eAAP,CANV;AAOHO,IAAAA,cAAc,EAAEX,GAAG,CAACI,IAAD,EAAO,qBAAP,CAPhB;AAQHQ,IAAAA,QAAQ,EAAEZ,GAAG,CAACI,IAAD,EAAO,eAAP,CARV;AASHS,IAAAA,UAAU,EAAEb,GAAG,CAACI,IAAD,EAAO,YAAP;AATZ,GAAP;AAWH;;AAED,SAASU,WAAT,GAAuE;AAAA,iFAAJ,EAAI;AAAA,uBAAhDC,IAAgD;AAAA,MAAhDA,IAAgD,0BAAzC,OAAyC;AAAA,4BAAhCC,SAAgC;AAAA,MAAhCA,SAAgC,+BAApB,EAAoB;AAAA,MAAbC,IAAa;;AACnE,SAAO;AACHF,IAAAA,IAAI,EAAJA,IADG;AAEHC,IAAAA,SAAS,EAATA,SAFG;AAGHZ,IAAAA,IAAI,EAAED,UAAU,CAACc,IAAD;AAHb,GAAP;AAKH;;AAED,IAAMC,YAAY,GAAGJ,WAAW,EAAhC;;AAEA,IAAMK,IAAI,GAAG,SAAPA,IAAO,GAAwC;AAAA,MAA9BC,KAA8B,uEAAtBF,YAAsB;AAAA,MAARG,MAAQ;;AACjD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKpB,OAAO,CAACqB,aAAb;AAA4B;AACxB,eAAOT,WAAW;AACdC,UAAAA,IAAI,EAAEd,OAAO,CAACoB,MAAM,CAACG,OAAR,CAAP,GAA0B,OAA1B,GAAoC;AAD5B,WAEXH,MAAM,CAACG,OAFI,EAAlB;AAIH;;AACD,SAAKtB,OAAO,CAACuB,kBAAb;AAAiC;AAC7B,+CACOL,KADP;AAEIJ,UAAAA,SAAS,EAAEK,MAAM,CAACL;AAFtB;AAIH;;AACD,SAAKd,OAAO,CAACwB,gBAAb;AAA+B;AAC3B,iCACOR,YADP;AAGH;;AACD,SAAKhB,OAAO,CAACyB,eAAb;AAA8B;AAC1B,eAAOT,YAAP;AACH;;AACD;AAAS;AACL,eAAOE,KAAP;AACH;AAvBL;AAyBH,CA1BD;;AA4BA,eAAeD,IAAf","sourcesContent":["import { get, isEmpty } from 'lodash';\r\nimport * as Actions from '../actions';\r\n\r\nfunction mapProfile(data = {}) {\r\n    return {\r\n        id: get(data, 'profile.id'),\r\n        email: '',\r\n        userId: get(data, 'USERID'),\r\n        userSeq: get(data, 'USERSEQ'),\r\n        displayName: get(data, 'USERNAME'),\r\n        deptName: get(data, 'DEPTID_CODENM'),\r\n        permissionName: get(data, 'PERMISSIONID_CODENM'),\r\n        rankName: get(data, 'RANKID_CODENM'),\r\n        navigation: get(data, 'navigation'),\r\n    };\r\n}\r\n\r\nfunction mapUserData({ role = 'guest', shortcuts = [], ...rest } = {}) {\r\n    return {\r\n        role,\r\n        shortcuts,\r\n        data: mapProfile(rest),\r\n    };\r\n}\r\n\r\nconst initialState = mapUserData();\r\n\r\nconst user = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case Actions.SET_USER_DATA: {\r\n            return mapUserData({\r\n                role: isEmpty(action.payload) ? 'guest' : 'staff',\r\n                ...action.payload,\r\n            });\r\n        }\r\n        case Actions.SET_USER_SHORTCUTS: {\r\n            return {\r\n                ...state,\r\n                shortcuts: action.shortcuts,\r\n            };\r\n        }\r\n        case Actions.REMOVE_USER_DATA: {\r\n            return {\r\n                ...initialState,\r\n            };\r\n        }\r\n        case Actions.USER_LOGGED_OUT: {\r\n            return initialState;\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default user;\r\n"]},"metadata":{},"sourceType":"module"}